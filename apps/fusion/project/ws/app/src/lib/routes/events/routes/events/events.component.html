<div class="banner w-full">
</div>

<div class="px-10 py-10">
    <div class="flex flex-4 flex-column">
        <div class="flex custom">
            <div>
                <img i18n-alt alt="today events" src="\assets\images\event\today-events.svg"/>
            </div>
            <div class="today-card-list">
                <mat-card class="flex-1 no-box-shadow">
                    <mat-card-header class="flex items-baseline margin-fix">
                        <mat-card-title class="margin-l-0 f-medium  flex-1">
                            <span class="width-expand">Today's events</span>
                        </mat-card-title>
                        <span class="spacer"></span>
                    </mat-card-header>
                    <mat-card-content style="margin-left:16px;">
                        <ng-container >
                            <ws-utils-horizontal-scroller *ngIf="todayEventsCount > 0" [loadStatus]="'done'">
                                <ws-app-today-event-card *ngFor="let event of eventData['todayEvents']" class="mr-4 mb-10" [data]="event"></ws-app-today-event-card>
                            </ws-utils-horizontal-scroller>
                        </ng-container>
                        <ng-container *ngIf="todayEventsCount == 0">
                            <div class="today-empty-box" style="background-color: #ededed; width:250px; height: 115px; border-radius: 2px; margin-bottom: 45px;">
                                <h5 class="today_no_event">No events today</h5>
                                <p class="today_no_event_desc">Scroll down to find out upcoming events</p>
                            </div>
                        </ng-container>
                    </mat-card-content>
                    <mat-card-footer class="today-mat-footer">
                        <div class="flex flex-1 custom mx-8">
                            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display" (click)="scroll(allevents)">
                                <span i18n>See all events</span>
                            </button>
                        </div>
                    </mat-card-footer>
                </mat-card>
            </div>
        </div>
    </div>
</div>

<div class="pt-10  px-10">
    <div class="flex flex-1 flex-column margin-fix mb-2">
        <span class="f-medium mat-title">Joined by me </span>
    </div>
    <div style="min-width: 700px;">
        <ng-container *ngIf="joinedByMeEventsCount > 0">
            <ws-utils-horizontal-scroller [loadStatus]="'done'">
                <ng-container *ngFor="let event of eventData['joinedByMe']">
                    <ws-app-events-card [ngStyle]="{'width':'360' + 'px'}" class="w-fix mr-10" [data]="event"></ws-app-events-card>
                </ng-container>
            </ws-utils-horizontal-scroller>
        </ng-container>
        <ng-container *ngIf="joinedByMeEventsCount == 0">
            <div class="flex w-full sm:w-full">
                <mat-card style="width: 100%; box-shadow: none;">
                    <mat-card-header class="flex items-baseline margin-fix">
                        <mat-card-title class="margin-l-0 f-medium  flex-1">
                            <span style="font-size:14px;font-weight: normal;">No events associated with you!</span>
                        </mat-card-title>
                        <span class="spacer"></span>
                    </mat-card-header>
                    <mat-card-content class="mb-0-imp flex flex-wrap"></mat-card-content>
                </mat-card>
            </div>
        </ng-container>
    </div>
</div>

<div class="w-full pt-10  px-10" #allevents>
    <div class="flex flex-1 flex-column margin-fix mb-2">
        <span class="f-medium mat-title">All events </span>
    </div>
    <div class="flex flex-1 flex-column margin-fix search" *ngIf="allEventsCount > 0">
        <mat-form-field appearance="outline" class="autocomplete-form mat-body-2" color="primary"
            [floatLabel]="'never'">
            <mat-icon matPrefix class="search-home flex items-center justify-center">search</mat-icon>
            <input type="search" #searchInput class="ml-2" i18n-placeholder="search content"
                [placeholder]="'Search'" i18-aria-label aria-label="Query" matInput
                accesskey="F" [(ngModel)] = "searchTerm" [ngModel]="mymodel" (ngModelChange)="applyFilter($event)" />
        </mat-form-field>
    </div>
    <div class="flex flex-1 margin-fix mt-5" *ngIf="allEventsCount > 0">
        <div class="flex flex-1 filter custom">
            <a href="javascript:void(0)" role="button" class="filter-option" [ngClass]="{'ws-mat-accent-border-active' : currentFilter === 'all',
            'ws-mat-accent-border font-normal':currentFilter !== 'all'}" mat-button (click)="filter('all')">
                All 
            </a>
            <a href="javascript:void(0)" role="button" class="filter-option" [ngClass]="{'ws-mat-accent-border-active' : currentFilter === 'myMDO', 
            'ws-mat-accent-border font-normal':currentFilter !== 'myMDO'}" mat-button (click)="filter('myMDO')">
                Hosted by my MDO
            </a>
        </div>
        <span class="spacer"></span>
        <div class="flex-1 flex-auto-display select-event-filter">
            <mat-form-field appearance="outline" class="event-filter">
                <mat-select (selectionChange)="setEventSubFilter($event.value)" [(value)]="currentSubFilter" >
                    <mat-option value="upcoming">Live and upcoming</mat-option>
                    <mat-option value="past">Past events</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
    <div *ngIf="allEventsCount > 0" style="display: flex; flex-wrap: wrap;" fxLayout="row" fxLayoutWrap class="card-deck-container mat-elevation-z4">
       <div fxFlex *ngFor="let event of subData" class="card-item" fxLayout="row wrap">
            <ws-app-events-card [ngStyle]="{'width':'360' + 'px'}" class="w-fix mr-10" [data]="event"></ws-app-events-card>
       </div>
    </div> 
    <div class="flex flex-1 flex-column margin-fix mt-5 mb-20" *ngIf="allEventsCount == 0">
        <div class="flex w-full sm:w-full">
            <mat-card style="width: 91%; box-shadow: none;">
                <mat-card-header class="flex items-baseline margin-fix">
                    <mat-card-title class="margin-l-0 f-medium  flex-1">
                        <span style="font-size:14px;font-weight: normal;">No events found!</span>
                    </mat-card-title>
                    <span class="spacer"></span>
                </mat-card-header>
                <mat-card-content class="mb-0-imp flex flex-wrap"></mat-card-content>
            </mat-card>
        </div>
    </div>
</div>