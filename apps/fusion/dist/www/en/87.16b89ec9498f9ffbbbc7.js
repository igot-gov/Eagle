(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{CgpK:function(n,e,t){"use strict";t.r(e);var i=t("8Y7J");class l{}var a=t("pMnS"),o=t("Mr+X"),s=t("Gi4r"),r=t("TX3T"),u=t("s4ib"),c=t("cErF"),d=t("SVse"),b=t("lzlj"),h=t("igqZ"),p=t("omvX"),g=t("bujt"),f=t("Fwaw"),m=t("5GAg"),v=t("g6cB");class w{constructor(n,e){this.domSanitizer=n,this.logger=e,this.iapContent=null,this.iframeUrl=null,this.proctoringWarning=!1,this.proctoringStarted=!1,this.contextCheck=n=>{this.sendProctoringInfo("rightClick"),n.preventDefault()},this.beforeUnload=n=>{this.sendProctoringInfo("beforeunload"),n.returnValue="You are not allowed to close window."},this.visibilityCheck=()=>{this.logger.log("document.visibilityState >",document.visibilityState),this.sendProctoringInfo("visibilitychange")},this.fullscreenCheck=()=>{this.sendProctoringInfo("fullScreen")},this.keydownCheck=n=>{n.altKey?(this.sendProctoringInfo("alt"),n.preventDefault()):n.ctrlKey?(this.sendProctoringInfo("ctrl"),n.preventDefault()):"tab"===n.key?(this.sendProctoringInfo("tab"),n.preventDefault()):"esc"===n.key?(this.sendProctoringInfo("esc"),n.preventDefault()):"window"===n.key?(this.sendProctoringInfo("window"),n.preventDefault()):"f1"===n.key?(this.sendProctoringInfo("f1"),n.preventDefault()):"f8"===n.key?(this.sendProctoringInfo("f8"),n.preventDefault()):"f12"===n.key&&(this.sendProctoringInfo("f12"),n.preventDefault())},this.copyCheck=n=>{this.sendProctoringInfo("copy"),n.preventDefault()},this.cutCheck=n=>{this.sendProctoringInfo("cut"),n.preventDefault()},this.pasteCheck=n=>{this.sendProctoringInfo("paste"),n.preventDefault()}}ngOnInit(){}ngAfterViewInit(){window.addEventListener("message",n=>{n.data?n.data.functionToExecute&&"turnOnProctoring"===n.data.functionToExecute?(this.turnOnProctoring(),this.proctoringStarted=!0):n.data.functionToExecute&&"turnOffProctoring"===n.data.functionToExecute&&(this.turnOffProctoring(),this.proctoringStarted=!1):this.logger.log("data unavailable")})}ngOnChanges(){this.iframeUrl=this.iapContent&&this.iapContent.artifactUrl?this.domSanitizer.bypassSecurityTrustResourceUrl(this.iapContent.artifactUrl):null}ngOnDestroy(){this.proctoringStarted&&this.turnOffProctoring()}turnOnProctoring(){this.sendProctoringInfo("none"),this.sendProctoringInfo("fullScreen"),window.addEventListener("contextmenu",this.contextCheck),window.addEventListener("beforeunload",this.beforeUnload),window.addEventListener("keydown",this.keydownCheck),document.body.addEventListener("copy",this.copyCheck),document.body.addEventListener("cut",this.cutCheck),document.body.addEventListener("paste",this.pasteCheck),document.addEventListener("visibilitychange",this.visibilityCheck),document.addEventListener("webkitfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("mozfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("msfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("fullscreenchange",this.fullscreenCheck,!1)}sendProctoringInfo(n){const e=document.getElementById("iap-iframe").contentWindow;e&&e.postMessage({proctoring:n},"*"),"esc"!==n&&"fullScreen"!==n||(this.proctoringWarning=!0)}enterFullScreen(){this.proctoringWarning=!1;const n=document.getElementById("iap-iframe");n&&(n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen())}exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}turnOffProctoring(){window.removeEventListener("contextmenu",this.contextCheck),window.removeEventListener("beforeunload",this.beforeUnload),window.removeEventListener("keydown",this.keydownCheck),document.body.removeEventListener("copy",this.copyCheck),document.body.removeEventListener("cut",this.cutCheck),document.body.removeEventListener("paste",this.pasteCheck),document.removeEventListener("visibilitychange",this.visibilityCheck),document.removeEventListener("webkitfullscreenchange",this.fullscreenCheck),document.removeEventListener("fullscreenchange",this.fullscreenCheck),document.removeEventListener("mozfullscreenchange",this.fullscreenCheck),document.removeEventListener("msfullscreenchange",this.fullscreenCheck),this.exitFullscreen(),this.proctoringWarning=!1}}var y=t("cUpR"),E=i.sb({encapsulation:0,styles:[[".iap-iframe[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.proctoring-warning-holder[_ngcontent-%COMP%]{position:fixed;top:60px;right:0;bottom:0;left:0}.proctoring-warning-holder[_ngcontent-%COMP%]   .proctoring-warning[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:50%;min-width:300px;max-width:600px}"]],data:{}});function P(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,0,"iframe",[["allow","fullscreen; accelerometer; autoplay; encrypted-media; gyroscope;  microphone; camera;"],["class","iap-iframe"],["id","iap-iframe"],["title","IAP Assessment Viewer"]],[[8,"src",5]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.iframeUrl)}))}function C(n){return i.Qb(0,[(n()(),i.kb(16777216,null,null,1,null,P)),i.tb(1,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(n()(),i.ub(2,0,null,null,10,"div",[],null,null,null,null,null)),i.Lb(512,null,d.I,d.J,[i.r,i.s,i.k,i.D]),i.tb(4,278528,null,0,d.n,[d.I],{ngClass:[0,"ngClass"]},null),i.Jb(5,{"proctoring-warning-holder":0}),(n()(),i.ub(6,0,null,null,6,"mat-card",[["class","proctoring-warning mat-card"]],[[8,"hidden",0],[2,"_mat-animation-noopable",null]],null,null,b.d,b.a)),i.tb(7,49152,null,0,h.a,[[2,p.a]],null,null),(n()(),i.ub(8,0,null,0,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),i.Ob(-1,null,[" Accessible only on fullscreen. Click Okay to continue "])),(n()(),i.ub(10,0,null,0,2,"button",[["mat-flat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==n.component.enterFullScreen()&&i),i}),g.d,g.b)),i.tb(11,180224,null,0,f.b,[i.k,m.h,[2,p.a]],{color:[0,"color"]},null),(n()(),i.Ob(-1,0,[" Okay "]))],(function(n,e){var t=e.component;n(e,1,0,t.iframeUrl);var i=n(e,5,0,t.proctoringWarning);n(e,4,0,i),n(e,11,0,"primary")}),(function(n,e){n(e,6,0,!e.component.proctoringWarning,"NoopAnimations"===i.Gb(e,7)._animationMode),n(e,10,0,i.Gb(e,11).disabled||null,"NoopAnimations"===i.Gb(e,11)._animationMode)}))}var D=t("CF3Z"),k=t("c3Nb"),x=t("/HVE"),O=t("Q3Rl"),M=t("tHRR"),F=t("88ff"),S=t("3s4E"),I=t("rhuo"),_=t("uLo0"),G=t("ltln"),L=t("ihed"),T=t("s6ns"),W=t("6/yt"),R=t("IOGA"),N=t("Tgwc"),q=t("Wuo0"),U=t("FHFF"),A=t("OAMf"),j=t("iBkE"),z=t("U5F2");class Q{constructor(n,e){this.activatedRoute=n,this.configSvc=e,this.isFetchingDataComplete=!1,this.iapData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.forPreview=!1,this.isRestricted=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var K=t("iInd"),B=i.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}"]],data:{}});function H(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,o.b,o.a)),i.tb(1,9158656,null,0,s.b,[i.k,s.d,[8,null],[2,s.a]],null,null),(n()(),i.Ob(-1,0,["arrow_right"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,i.Gb(e,1).inline,"primary"!==i.Gb(e,1).color&&"accent"!==i.Gb(e,1).color&&"warn"!==i.Gb(e,1).color)}))}function J(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,o.b,o.a)),i.tb(1,9158656,null,0,s.b,[i.k,s.d,[8,null],[2,s.a]],null,null),(n()(),i.Ob(-1,0,["arrow_drop_down"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,i.Gb(e,1).inline,"primary"!==i.Gb(e,1).color&&"accent"!==i.Gb(e,1).color&&"warn"!==i.Gb(e,1).color)}))}function X(n){return i.Qb(0,[(n()(),i.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),i.tb(1,540672,null,0,r.a,[i.P,u.a,c.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),i.kb(0,null,null,0))],(function(n,e){n(e,1,0,e.component.discussionForumWidget)}),null)}function Y(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,10,"div",[["class","padding-m"]],null,null,null,null,null)),(n()(),i.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(n()(),i.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(n()(),i.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(n,e,t){var i=!0,l=n.component;return"click"===e&&(i=0!=(l.openDiscuuss=!l.openDiscuuss)&&i),i}),null,null)),(n()(),i.Ob(-1,null,["Discussion Forum "])),(n()(),i.kb(16777216,null,null,1,null,H)),i.tb(6,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(n()(),i.kb(16777216,null,null,1,null,J)),i.tb(8,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(n()(),i.kb(16777216,null,null,1,null,X)),i.tb(10,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,6,0,!t.openDiscuuss),n(e,8,0,t.openDiscuuss),n(e,10,0,t.openDiscuuss)}),null)}function Z(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,31,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),i.ub(1,0,null,null,28,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),i.ub(2,0,null,null,27,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),i.ub(3,0,null,null,26,"div",[],null,null,null,null,null)),(n()(),i.ub(4,0,null,null,25,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b.d,b.a)),i.tb(5,49152,null,0,h.a,[[2,p.a]],null,null),(n()(),i.ub(6,0,null,0,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),i.tb(7,16384,null,0,h.d,[],null,null),(n()(),i.ub(8,0,null,null,2,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(n()(),i.ub(9,0,null,null,1,"viewer-plugin-iap",[],null,null,null,C,E)),i.tb(10,4964352,null,0,w,[y.b,c.a],{iapContent:[0,"iapContent"]},null),(n()(),i.ub(11,0,null,null,18,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(n()(),i.ub(12,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),i.tb(13,4308992,null,0,k.a,[x.a,O.a,M.a,F.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),i.Hb(14,7),i.Kb(15,2),(n()(),i.ub(16,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,S.c,S.b)),i.tb(17,4440064,null,0,I.a,[O.a,_.a,F.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),i.Hb(18,1),i.Kb(19,2),(n()(),i.ub(20,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,G.c,G.b)),i.tb(21,4308992,null,0,L.a,[T.e,F.a],{forPreview:[0,"forPreview"]},null),(n()(),i.ub(22,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,W.c,W.b)),i.tb(23,4308992,null,0,R.a,[T.e,F.a],{forPreview:[0,"forPreview"]},null),(n()(),i.ub(24,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,N.c,N.b)),i.tb(25,4308992,null,0,q.a,[T.e,U.a,F.a],{forPreview:[0,"forPreview"]},null),(n()(),i.ub(26,0,null,null,3,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,A.b,A.a)),i.tb(27,4308992,null,0,j.a,[T.e,F.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),i.Hb(28,2),i.Kb(29,2),(n()(),i.kb(16777216,null,null,1,null,Y)),i.tb(31,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,10,0,t.iapData);var l=i.Pb(e,13,0,n(e,15,0,i.Gb(e.parent,0),t.iapData,n(e,14,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(e,13,0,l,t.forPreview);var a=i.Pb(e,17,0,n(e,19,0,i.Gb(e.parent,0),t.iapData,n(e,18,0,"identifier")));n(e,17,0,a,t.forPreview),n(e,21,0,t.forPreview),n(e,23,0,t.forPreview),n(e,25,0,t.forPreview);var o=i.Pb(e,27,0,n(e,29,0,i.Gb(e.parent,0),t.iapData,n(e,28,0,"identifier","name")));n(e,27,0,o,t.forPreview),n(e,31,0,t.discussionForumWidget&&t.isRestricted)}),(function(n,e){n(e,4,0,"NoopAnimations"===i.Gb(e,5)._animationMode),n(e,12,0,i.Gb(e,13).id,i.Gb(e,13).widgetSafeStyle,i.Gb(e,13).className),n(e,16,0,i.Gb(e,17).id,i.Gb(e,17).widgetSafeStyle,i.Gb(e,17).className),n(e,20,0,i.Gb(e,21).id,i.Gb(e,21).widgetSafeStyle,i.Gb(e,21).className),n(e,22,0,i.Gb(e,23).id,i.Gb(e,23).widgetSafeStyle,i.Gb(e,23).className),n(e,24,0,i.Gb(e,25).id,i.Gb(e,25).widgetSafeStyle,i.Gb(e,25).className),n(e,26,0,i.Gb(e,27).id,i.Gb(e,27).widgetSafeStyle,i.Gb(e,27).className)}))}function V(n){return i.Qb(0,[i.Ib(0,z.a,[]),(n()(),i.kb(16777216,null,null,1,null,Z)),i.tb(2,16384,null,0,d.p,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,e.component.iapData)}),null)}function $(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,1,"viewer-iap-container",[],null,null,null,V,B)),i.tb(1,114688,null,0,Q,[K.a,F.a],null,null)],(function(n,e){n(e,1,0)}),null)}var nn=i.qb("viewer-iap-container",Q,$,{isFetchingDataComplete:"isFetchingDataComplete",iapData:"iapData",discussionForumWidget:"discussionForumWidget",isPreviewMode:"isPreviewMode",forPreview:"forPreview"},{},[]),en=t("uJjh"),tn=t("hQq7"),ln=t("Iani"),an=t("AjsA"),on=t("wNFL"),sn=t("NcP4"),rn=t("t68o"),un=t("UGML"),cn=t("4gA+"),dn=t("p/gH"),bn=t("rnpX"),hn=t("hgHL"),pn=t("jf99"),gn=t("xYTU"),fn=t("AK/K"),mn=t("6wWs"),vn=t("qbau"),wn=t("EakT"),yn=t("6JF1"),En=t("mrSG"),Pn=t("iJLM"),Cn=t("xgIS"),Dn=t("pLZG"),kn=t("jMFU");class xn{constructor(n,e,t,i,l){this.activatedRoute=n,this.contentSvc=e,this.eventSvc=t,this.viewerSvc=i,this.respondSvc=l,this.routeDataSubscription=null,this.responseSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isPreviewMode=!1,this.isFetchingDataComplete=!1,this.iapData=null,this.oldData=null,this.alreadyRaised=!1,this.discussionForumWidget=null}ngOnInit(){this.activatedRoute.snapshot.queryParamMap.get("preview")?(this.isPreviewMode=!0,this.routeDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>En.__awaiter(this,void 0,void 0,(function*(){this.iapData=n,this.iapData&&(this.formDiscussionForumWidget(this.iapData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0)),this.iapData&&this.iapData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.iapData.identifier)),this.isFetchingDataComplete=!0})))):this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>En.__awaiter(this,void 0,void 0,(function*(){this.iapData=n.content.data,this.alreadyRaised&&this.oldData&&this.raiseEvent(v.g.EnumTelemetrySubType.Unloaded,this.oldData),this.iapData&&this.formDiscussionForumWidget(this.iapData),this.iapData&&this.iapData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.iapData.identifier)),this.iapData&&this.iapData.identifier&&(this.oldData=this.iapData,this.alreadyRaised=!0,this.raiseEvent(v.g.EnumTelemetrySubType.Loaded,this.iapData),this.responseSubscription=Object(Cn.a)(window,"message").pipe(Object(Dn.a)(n=>Boolean(n)&&Boolean(n.data)&&"IAP"===n.data.subApplicationName&&Boolean(n.source&&"function"==typeof n.source.postMessage))).subscribe(n=>En.__awaiter(this,void 0,void 0,(function*(){const e=n.source;if(n.data.requestId&&"IAP"===n.data.subApplicationName&&this.iapData)switch(n.data.requestId){case"LOADED":this.respondSvc.loadedRespond(e,n.data.subApplicationName,this.iapData.identifier)}})))),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){return En.__awaiter(this,void 0,void 0,(function*(){this.activatedRoute.snapshot.queryParams.collectionId&&this.activatedRoute.snapshot.queryParams.collectionType&&this.iapData?yield this.contentSvc.continueLearning(this.iapData.identifier,this.activatedRoute.snapshot.queryParams.collectionId,this.activatedRoute.snapshot.queryParams.collectionType):this.iapData&&(yield this.contentSvc.continueLearning(this.iapData.identifier)),this.iapData&&this.raiseEvent(v.g.EnumTelemetrySubType.Unloaded,this.iapData),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.responseSubscription&&(this.respondSvc.unsubscribeResponse(),this.responseSubscription.unsubscribe())}))}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Pn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}raiseEvent(n,e){this.forPreview||this.eventSvc.dispatchEvent({eventType:v.g.WsEventType.Telemetry,eventLogLevel:v.g.WsEventLogLevel.Info,from:"iap",to:"",data:{state:n,type:v.g.WsTimeSpentType.Player,mode:v.g.WsTimeSpentMode.Play,content:e,identifier:e?e.identifier:null,mimeType:Pn.h.EMimeTypes.IAP,url:e?e.artifactUrl:null}})}setS3Cookie(n){return En.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}}var On=t("4fW1"),Mn=t("BaE1"),Fn=i.sb({encapsulation:0,styles:[[""]],data:{}});function Sn(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,1,"viewer-iap-container",[],null,null,null,V,B)),i.tb(1,114688,null,0,Q,[K.a,F.a],{isFetchingDataComplete:[0,"isFetchingDataComplete"],iapData:[1,"iapData"],discussionForumWidget:[2,"discussionForumWidget"],forPreview:[3,"forPreview"]},null)],(function(n,e){var t=e.component;n(e,1,0,t.isFetchingDataComplete,t.iapData,t.discussionForumWidget,t.forPreview)}),null)}function In(n){return i.Qb(0,[(n()(),i.ub(0,0,null,null,1,"viewer-iap",[],null,null,null,Sn,Fn)),i.tb(1,245760,null,0,xn,[K.a,On.a,O.a,kn.a,Mn.a],null,null)],(function(n,e){n(e,1,0)}),null)}var _n=i.qb("viewer-iap",xn,In,{},{},[]),Gn=t("oPrN"),Ln=t("GYRC"),Tn=t("bKtt"),Wn=t("ZGdF"),Rn=t("POq0"),Nn=t("QQfA"),qn=t("IP0z"),Un=t("Mz6y"),An=t("Xd0L"),jn=t("s7LF"),zn=t("/Co4"),Qn=t("gavF"),Kn=t("3wtj"),Bn=t("IheW");class Hn{}class Jn{}var Xn=t("KDYE"),Yn=t("Bheh"),Zn=t("kxhK"),Vn=t("nUuF"),$n=t("zMNK"),ne=t("hOhj"),ee=t("wBFC"),te=t("oapL"),ie=t("HsOI"),le=t("ZwOa"),ae=t("GSMj"),oe=t("KPQW"),se=t("1XhF"),re=t("kNGD"),ue=t("W5yJ"),ce=t("Nra3"),de=t("N8BH"),be=t("f1R+"),he=t("3XeQ"),pe=t("1+c4"),ge=t("aDOb"),fe=t("02hT"),me=t("Q+lL"),ve=t("GilE"),we=t("CpoC"),ye=t("6GCF"),Ee=t("dFDH"),Pe=t("oYwi"),Ce=t("FPi+"),De=t("alHs"),ke=t("W6PK"),xe=t("wgME"),Oe=t("7Y9B"),Me=t("v2bU"),Fe=t("PggI"),Se=t("gBMt");class Ie{}class _e{}var Ge=t("dvZr");t.d(e,"IapModuleNgFactory",(function(){return Le}));var Le=i.rb(l,[],(function(n){return i.Db([i.Eb(512,i.j,i.bb,[[8,[a.a,nn,en.a,tn.a,ln.a,an.a,on.a,sn.a,D.a,rn.a,un.a,cn.a,S.a,G.a,dn.a,W.a,bn.a,hn.a,N.a,pn.a,gn.a,gn.b,fn.a,mn.a,vn.a,wn.a,yn.a,_n]],[3,i.j],i.w]),i.Eb(4608,d.r,d.q,[i.t,[2,d.N]]),i.Eb(4608,Gn.a,Gn.a,[On.a,Ln.a,M.a,K.o,Tn.a,Wn.a,F.a,x.a]),i.Eb(4608,Rn.c,Rn.c,[]),i.Eb(4608,Nn.d,Nn.d,[Nn.j,Nn.f,i.j,Nn.i,Nn.g,i.q,i.y,d.d,qn.b,[2,d.k]]),i.Eb(5120,Nn.k,Nn.l,[Nn.d]),i.Eb(5120,Un.b,Un.c,[Nn.d]),i.Eb(4608,y.e,An.c,[[2,An.g],[2,An.l]]),i.Eb(4608,jn.D,jn.D,[]),i.Eb(4608,An.b,An.b,[]),i.Eb(5120,T.c,T.d,[Nn.d]),i.Eb(135680,T.e,T.e,[Nn.d,i.q,[2,d.k],[2,T.b],T.c,[3,T.e],Nn.f]),i.Eb(4608,jn.f,jn.f,[]),i.Eb(5120,zn.b,zn.c,[Nn.d]),i.Eb(5120,Qn.c,Qn.k,[Nn.d]),i.Eb(4608,Kn.a,Kn.a,[Bn.c,F.a]),i.Eb(1073742336,d.c,d.c,[]),i.Eb(1073742336,qn.a,qn.a,[]),i.Eb(1073742336,An.l,An.l,[[2,An.d],[2,y.f]]),i.Eb(1073742336,h.h,h.h,[]),i.Eb(1073742336,x.b,x.b,[]),i.Eb(1073742336,An.w,An.w,[]),i.Eb(1073742336,f.c,f.c,[]),i.Eb(1073742336,Hn,Hn,[]),i.Eb(1073742336,K.s,K.s,[[2,K.x],[2,K.o]]),i.Eb(1073742336,Jn,Jn,[]),i.Eb(1073742336,s.c,s.c,[]),i.Eb(1073742336,Xn.a,Xn.a,[]),i.Eb(1073742336,Yn.a,Yn.a,[]),i.Eb(1073742336,Zn.a,Zn.a,[]),i.Eb(1073742336,Vn.a,Vn.a,[]),i.Eb(1073742336,Rn.d,Rn.d,[]),i.Eb(1073742336,m.a,m.a,[]),i.Eb(1073742336,$n.g,$n.g,[]),i.Eb(1073742336,ne.c,ne.c,[]),i.Eb(1073742336,Nn.h,Nn.h,[]),i.Eb(1073742336,Un.e,Un.e,[]),i.Eb(1073742336,ee.a,ee.a,[]),i.Eb(1073742336,jn.C,jn.C,[]),i.Eb(1073742336,jn.m,jn.m,[]),i.Eb(1073742336,te.c,te.c,[]),i.Eb(1073742336,ie.e,ie.e,[]),i.Eb(1073742336,le.c,le.c,[]),i.Eb(1073742336,T.k,T.k,[]),i.Eb(1073742336,ae.a,ae.a,[]),i.Eb(1073742336,oe.b,oe.b,[]),i.Eb(1073742336,se.a,se.a,[]),i.Eb(1073742336,re.f,re.f,[]),i.Eb(1073742336,ue.c,ue.c,[]),i.Eb(1073742336,jn.z,jn.z,[]),i.Eb(1073742336,An.u,An.u,[]),i.Eb(1073742336,An.r,An.r,[]),i.Eb(1073742336,zn.e,zn.e,[]),i.Eb(1073742336,ce.a,ce.a,[]),i.Eb(1073742336,de.a,de.a,[]),i.Eb(1073742336,be.a,be.a,[]),i.Eb(1073742336,he.a,he.a,[]),i.Eb(1073742336,pe.a,pe.a,[]),i.Eb(1073742336,ge.a,ge.a,[]),i.Eb(1073742336,Qn.j,Qn.j,[]),i.Eb(1073742336,Qn.g,Qn.g,[]),i.Eb(1073742336,An.n,An.n,[]),i.Eb(1073742336,fe.b,fe.b,[]),i.Eb(1073742336,me.e,me.e,[]),i.Eb(1073742336,ve.a,ve.a,[]),i.Eb(1073742336,we.a,we.a,[]),i.Eb(1073742336,ye.a,ye.a,[]),i.Eb(1073742336,Ee.f,Ee.f,[]),i.Eb(1073742336,Pe.a,Pe.a,[]),i.Eb(1073742336,Ce.a,Ce.a,[]),i.Eb(1073742336,De.c,De.c,[]),i.Eb(1073742336,ke.a,ke.a,[]),i.Eb(1073742336,xe.a,xe.a,[]),i.Eb(1073742336,Oe.a,Oe.a,[]),i.Eb(1073742336,Me.a,Me.a,[]),i.Eb(1073742336,Fe.a,Fe.a,[]),i.Eb(1073742336,Se.a,Se.a,[]),i.Eb(1073742336,Ie,Ie,[]),i.Eb(1073742336,_e,_e,[]),i.Eb(1073742336,l,l,[]),i.Eb(256,i.t,"en",[]),i.Eb(1024,K.m,(function(){return[[{path:"",component:Q,pathMatch:"full"}],[{path:":resourceId",component:xn,resolve:{content:Gn.a}}]]}),[]),i.Eb(256,re.a,{separatorKeyCodes:[Ge.g]},[]),i.Eb(256,De.a,{formats:["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block"],modules:{toolbar:[["blockquote","code-block"],["bold","italic","underline","link"]],history:{delay:1500,userOnly:!0},syntax:!1},theme:"bubble"},[])])}))}}]);