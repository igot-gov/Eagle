(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"7Cf6":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class i{}var a=t("xYTU"),u=t("pMnS"),o=t("uJjh"),r=t("hQq7"),s=t("Iani"),c=t("AjsA"),d=t("wNFL"),b=t("NcP4"),h=t("CF3Z"),m=t("3s4E"),p=t("t68o"),g=t("ltln"),f=t("p/gH"),v=t("6/yt"),w=t("rnpX"),y=t("hgHL"),P=t("Tgwc"),S=t("jf99"),D=t("UGML"),C=t("4gA+"),G=t("AK/K"),M=t("6wWs"),x=t("qbau"),I=t("EakT"),O=t("6JF1"),k=t("tII7"),_=t("ggGX"),T=t("ET/M"),E=t("GlyH"),R=t("USTp"),N=t("hQng"),F=t("IWgo"),L=t("iInd"),U=t("bujt"),Q=t("Fwaw"),W=t("5GAg"),A=t("omvX"),z=t("SVse"),K=t("Mr+X"),q=t("Gi4r"),H=t("FbN9"),$=t("BzsH"),j=t("/HVE"),J=t("BSaD"),V=t("mrSG"),B=t("g6cB"),Y=t("GYRC");class X{constructor(l,n,t,i,a){this.activatedRoute=l,this.domSanitizer=n,this.configSvc=t,this.viewerDataSvc=i,this.valueSvc=a,this.forPreview=!1,this.toggle=new e.m,this.viewerDataServiceSubscription=null,this.paramSubscription=null,this.viewerDataServiceResourceSubscription=null,this.appIcon=null,this.isTypeOfCollection=!1,this.collectionType=null,this.prevResourceUrl=null,this.nextResourceUrl=null,this.pageNavbar=this.configSvc.pageNavBar,this.resourceId=this.viewerDataSvc.resourceId||"",this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:"",this.collectionId="",this.logo=!0,this.isPreview=!1,this.forChannel=!1,this.valueSvc.isXSmall$.subscribe(l=>{this.logo=!l})}ngOnInit(){window.location.href.includes("/channel/")&&(this.forChannel=!0),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.collectionType=this.activatedRoute.snapshot.queryParams.collectionType,this.configSvc.instanceConfig&&(this.appIcon=this.domSanitizer.bypassSecurityTrustResourceUrl(this.configSvc.instanceConfig.logos.app)),this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(l=>{this.prevResourceUrl=l.prevResource,this.nextResourceUrl=l.nextResource,this.resourceId!==this.viewerDataSvc.resourceId&&(this.resourceId=this.viewerDataSvc.resourceId,this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:"")}),this.paramSubscription=this.activatedRoute.queryParamMap.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){this.collectionId=l.get("collectionId"),this.isPreview="true"===l.get("preview")}))),this.viewerDataServiceResourceSubscription=this.viewerDataSvc.changedSubject.subscribe(l=>{this.resourceId=this.viewerDataSvc.resourceId,this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:""})}ngOnDestroy(){this.viewerDataServiceSubscription&&this.viewerDataServiceSubscription.unsubscribe(),this.paramSubscription&&this.paramSubscription.unsubscribe(),this.viewerDataServiceResourceSubscription&&this.viewerDataServiceResourceSubscription.unsubscribe()}toggleSideBar(){this.toggle.emit()}back(){try{if(window.self!==window.top)return;window.history.back()}catch(l){window.history.back()}}}var Z=t("cUpR"),ll=t("88ff"),nl=t("TPUF"),tl=e.sb({encapsulation:0,styles:[[".app-logo[_ngcontent-%COMP%]{max-width:100px;max-height:30px}@media only screen and (max-width:599px){.app-logo[_ngcontent-%COMP%]{max-width:80px;max-height:30px}}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.xsmall[_ngcontent-%COMP%]{position:absolute;display:block;right:0}.finish[_ngcontent-%COMP%]{font-weight:700;opacity:.7}"]],data:{}});function el(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"ws-widget-btn-page-back-nav",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,R.c,R.b)),e.tb(1,4308992,null,0,N.a,[F.a,L.o],{widgetData:[0,"widgetData"]},null),e.Jb(2,{url:0})],(function(l,n){var t=n.component,e=l(n,2,0,t.isTypeOfCollection?"Playlist"===t.collectionType?"/app/playlist/me/"+t.collectionId:(t.forPreview?"/author":"/app")+"/toc/"+t.collectionId+"/overview":(t.forPreview?"/author":"/app")+"/toc/"+t.resourceId+"/overview");l(n,1,0,e)}),(function(l,n){l(n,0,0,e.Gb(n,1).widgetInstanceId,e.Gb(n,1).widgetSafeStyle,e.Gb(n,1).className)}))}function il(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,3,"a",[["mat-button",""],["routerLink","/page/home"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,1)._haltDisabledEvents(t)&&i),"click"===n&&(i=!1!==e.Gb(l,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),U.c,U.a)),e.tb(1,180224,null,0,Q.a,[W.h,e.k,[2,A.a]],null,null),e.tb(2,671744,null,0,L.r,[L.o,L.a,z.l],{routerLink:[0,"routerLink"]},null),(l()(),e.ub(3,0,null,0,0,"img",[["alt","Application Logo"],["class","app-logo"]],[[8,"src",4]],null,null,null,null))],(function(l,n){l(n,2,0,"/page/home")}),(function(l,n){var t=n.component;l(n,0,0,e.Gb(n,1).disabled?-1:e.Gb(n,1).tabIndex||0,e.Gb(n,1).disabled||null,e.Gb(n,1).disabled.toString(),"NoopAnimations"===e.Gb(n,1)._animationMode,e.Gb(n,2).target,e.Gb(n,2).href),l(n,3,0,t.appIcon)}))}function al(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["PREV"]))],null,null)}function ul(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,7,"a",[["accesskey","<"],["aria-label","previous module"],["class","width-auto"],["mat-icon-button",""],["queryParamsHandling","preserve"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,1)._haltDisabledEvents(t)&&i),"click"===n&&(i=!1!==e.Gb(l,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),U.c,U.a)),e.tb(1,180224,null,0,Q.a,[W.h,e.k,[2,A.a]],{disabled:[0,"disabled"]},null),e.tb(2,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.ub(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(4,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["skip_previous"])),(l()(),e.kb(16777216,null,0,1,null,al)),e.tb(7,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,1,0,!t.prevResourceUrl),l(n,2,0,"preserve",t.prevResourceUrl),l(n,4,0),l(n,7,0,t.logo)}),(function(l,n){l(n,0,0,e.Gb(n,1).disabled?-1:e.Gb(n,1).tabIndex||0,e.Gb(n,1).disabled||null,e.Gb(n,1).disabled.toString(),"NoopAnimations"===e.Gb(n,1)._animationMode,e.Gb(n,2).target,e.Gb(n,2).href),l(n,3,0,e.Gb(n,4).inline,"primary"!==e.Gb(n,4).color&&"accent"!==e.Gb(n,4).color&&"warn"!==e.Gb(n,4).color)}))}function ol(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h1",[["class","width-expand text-center text-truncate"]],null,null,null,null,null)),(l()(),e.Ob(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.resourceName)}))}function rl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["NEXT"]))],null,null)}function sl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,7,"a",[["accesskey",">"],["aria-label","next module"],["class","width-auto mr-10"],["mat-icon-button",""],["queryParamsHandling","preserve"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,1)._haltDisabledEvents(t)&&i),"click"===n&&(i=!1!==e.Gb(l,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),U.c,U.a)),e.tb(1,180224,null,0,Q.a,[W.h,e.k,[2,A.a]],null,null),e.tb(2,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.kb(16777216,null,0,1,null,rl)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(6,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["skip_next"]))],(function(l,n){var t=n.component;l(n,2,0,"preserve",t.nextResourceUrl),l(n,4,0,t.logo),l(n,6,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).disabled?-1:e.Gb(n,1).tabIndex||0,e.Gb(n,1).disabled||null,e.Gb(n,1).disabled.toString(),"NoopAnimations"===e.Gb(n,1)._animationMode,e.Gb(n,2).target,e.Gb(n,2).href),l(n,5,0,e.Gb(n,6).inline,"primary"!==e.Gb(n,6).color&&"accent"!==e.Gb(n,6).color&&"warn"!==e.Gb(n,6).color)}))}function cl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"span",[["class","finish"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["FINISH"]))],null,null)}function dl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-icon-button",""],["routerLink","/page/home"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,1)._haltDisabledEvents(t)&&i),"click"===n&&(i=!1!==e.Gb(l,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),U.c,U.a)),e.tb(1,180224,null,0,Q.a,[W.h,e.k,[2,A.a]],null,null),e.tb(2,671744,null,0,L.r,[L.o,L.a,z.l],{routerLink:[0,"routerLink"]},null),(l()(),e.kb(16777216,null,0,1,null,cl)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,"/page/home"),l(n,4,0,t.logo)}),(function(l,n){l(n,0,0,e.Gb(n,1).disabled?-1:e.Gb(n,1).tabIndex||0,e.Gb(n,1).disabled||null,e.Gb(n,1).disabled.toString(),"NoopAnimations"===e.Gb(n,1)._animationMode,e.Gb(n,2).target,e.Gb(n,2).href)}))}function bl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,7,"a",[["accesskey","M"],["aria-label","module detail toggle"],["class","width-auto"],["href","javascript:void(0)"],["mat-icon-button",""],["module",""],["role","link"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,t){var i=!0,a=l.component;return"click"===n&&(i=!1!==e.Gb(l,4)._haltDisabledEvents(t)&&i),"click"===n&&(i=!1!==a.toggleSideBar()&&i),i}),U.c,U.a)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{xsmall:0}),e.tb(4,180224,null,0,Q.a,[W.h,e.k,[2,A.a]],null,null),(l()(),e.ub(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(6,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["menu"]))],(function(l,n){var t=l(n,3,0,!n.component.logo);l(n,2,0,"width-auto",t),l(n,6,0)}),(function(l,n){l(n,0,0,e.Gb(n,4).disabled?-1:e.Gb(n,4).tabIndex||0,e.Gb(n,4).disabled||null,e.Gb(n,4).disabled.toString(),"NoopAnimations"===e.Gb(n,4)._animationMode),l(n,5,0,e.Gb(n,6).inline,"primary"!==e.Gb(n,6).color&&"accent"!==e.Gb(n,6).color&&"warn"!==e.Gb(n,6).color)}))}function hl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,21,"mat-toolbar",[["class","mat-primary mat-elevation-z3 mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,H.b,H.a)),e.Lb(512,null,z.K,z.L,[e.k,e.s,e.D]),e.tb(2,278528,null,0,z.u,[z.K],{ngStyle:[0,"ngStyle"]},null),e.tb(3,4243456,null,1,$.a,[e.k,j.a,z.d],{color:[0,"color"]},null),e.Mb(603979776,1,{_toolbarRows:1}),(l()(),e.kb(16777216,null,0,1,null,el)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,il)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,ul)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,ol)),e.tb(12,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,sl)),e.tb(14,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,dl)),e.tb(16,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(17,0,null,0,2,"ws-widget-btn-fullscreen",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,k.c,k.b)),e.tb(18,4440064,null,0,J.a,[],{widgetType:[0,"widgetType"],widgetSubType:[1,"widgetSubType"],widgetData:[2,"widgetData"]},null),e.Jb(19,{fsContainer:0}),(l()(),e.kb(16777216,null,0,1,null,bl)),e.tb(21,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,null==t.pageNavbar?null:t.pageNavbar.styles),l(n,3,0,t.pageNavbar.color),l(n,6,0,!t.isPreview),l(n,8,0,t.logo),l(n,10,0,t.isTypeOfCollection),l(n,12,0,t.logo),l(n,14,0,t.isTypeOfCollection&&t.nextResourceUrl),l(n,16,0,t.isTypeOfCollection&&!t.nextResourceUrl);var e=l(n,19,0,t.frameReference);l(n,18,0,"actionButton","actionButtonFullscreen",e),l(n,21,0,t.isTypeOfCollection)}),(function(l,n){l(n,0,0,e.Gb(n,3)._toolbarRows.length>0,0===e.Gb(n,3)._toolbarRows.length),l(n,17,0,e.Gb(n,18).id,e.Gb(n,18).widgetSafeStyle,e.Gb(n,18).className)}))}var ml=t("Rlre"),pl=t("rWV4"),gl=t("rhuo"),fl=t("Q3Rl"),vl=t("uLo0"),wl=t("ihed"),yl=t("s6ns"),Pl=t("IOGA"),Sl=t("Wuo0"),Dl=t("FHFF"),Cl=t("vyyB"),Gl=t("lzlj"),Ml=t("igqZ"),xl=t("3b+v"),Il=t("TtEo"),Ol=t("02hT"),kl=t("oJZn"),_l=t("s7LF"),Tl=t("pBi1"),El=t("IP0z"),Rl=t("TX3T"),Nl=t("s4ib"),Fl=t("cErF"),Ll=t("6UMx"),Ul=t("Q+lL"),Ql=t("DkaU"),Wl=t("AaDx"),Al=t("qlXw");class zl{constructor(){this.displayContentType=Al.a.EDisplayContentTypes.DEFAULT,this.displayContentTypeEnum=Al.a.EDisplayContentTypes}ngOnInit(){}}var Kl=e.sb({encapsulation:0,styles:[[""]],data:{}});function ql(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["play_circle_outline "]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Hl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["music_video"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function $l(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["picture_as_pdf"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function jl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["help_outline"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Jl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["help"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Vl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["play_circle_outline "]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Bl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,[" featured_video"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Yl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["book"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Xl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["code"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Zl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["code"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function ln(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["class "]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function nn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["school "]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function tn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["folder"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function en(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["folder"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function an(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["folder"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function un(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["folder "]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function on(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["school"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function rn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["web"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function sn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["web_asset"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function cn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,39,null,null,null,null,null,null,null)),e.tb(1,16384,null,0,z.v,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.kb(16777216,null,null,1,null,ql)),e.tb(3,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Hl)),e.tb(5,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,$l)),e.tb(7,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,jl)),e.tb(9,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Jl)),e.tb(11,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Vl)),e.tb(13,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Bl)),e.tb(15,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Yl)),e.tb(17,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Xl)),e.tb(19,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,Zl)),e.tb(21,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,ln)),e.tb(23,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,nn)),e.tb(25,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,tn)),e.tb(27,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,en)),e.tb(29,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,an)),e.tb(31,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,un)),e.tb(33,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,on)),e.tb(35,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,rn)),e.tb(37,278528,null,0,z.w,[e.P,e.M,z.v],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.kb(16777216,null,null,1,null,sn)),e.tb(39,16384,null,0,z.x,[e.P,e.M,z.v],null,null)],(function(l,n){var t=n.component;l(n,1,0,t.displayContentType),l(n,3,0,t.displayContentTypeEnum.VIDEO),l(n,5,0,t.displayContentTypeEnum.AUDIO),l(n,7,0,t.displayContentTypeEnum.PDF),l(n,9,0,t.displayContentTypeEnum.QUIZ),l(n,11,0,t.displayContentTypeEnum.ASSESSMENT),l(n,13,0,t.displayContentTypeEnum.YOUTUBE),l(n,15,0,t.displayContentTypeEnum.INTERACTIVE_VIDEO),l(n,17,0,t.displayContentTypeEnum.WEB_MODULE),l(n,19,0,t.displayContentTypeEnum.HANDS_ON),l(n,21,0,t.displayContentTypeEnum.IAP),l(n,23,0,t.displayContentTypeEnum.INSTRUCTOR_LED),l(n,25,0,t.displayContentTypeEnum.CERTIFICATION),l(n,27,0,t.displayContentTypeEnum.MODULE),l(n,29,0,t.displayContentTypeEnum.COURSE),l(n,31,0,t.displayContentTypeEnum.PROGRAM),l(n,33,0,t.displayContentTypeEnum.CLASS_DIAGRAM),l(n,35,0,t.displayContentTypeEnum.EXTERNAL_CERTIFICATION),l(n,37,0,t.displayContentTypeEnum.WEB_PAGE)}),null)}var dn=t("OBjS"),bn=t("NvT6"),hn=t("W5yJ"),mn=t("O7N/"),pn=t("tlT0"),gn=t("iJLM"),fn=t("LRne"),vn=t("3E0/"),wn=t("jMFU");class yn{constructor(l,n,t,i,a,u,o,r){this.activatedRoute=l,this.domSanitizer=n,this.contentSvc=t,this.utilitySvc=i,this.viewerDataSvc=a,this.viewSvc=u,this.configSvc=o,this.contentProgressSvc=r,this.hidenav=new e.m,this.forPreview=!1,this.resourceId=null,this.collection=null,this.queue=[],this.tocMode="FLAT",this.defaultThumbnail=null,this.isFetching=!0,this.pathSet=new Set,this.contentProgressHash=null,this.errorWidgetData={widgetType:"errorResolver",widgetSubType:"errorResolver",widgetData:{errorType:""}},this.enumContentTypes=gn.h.EDisplayContentTypes,this.collectionCard=null,this.isErrorOccurred=!1,this.paramSubscription=null,this.viewerDataServiceSubscription=null,this.hasNestedChild=(l,n)=>n&&n.children&&n.children.length,this._getChildren=l=>l&&l.children?l.children:[],this.nestedTreeControl=new Ql.k(this._getChildren),this.nestedDataSource=new Wl.f}ngOnInit(){this.configSvc.instanceConfig&&(this.defaultThumbnail=this.domSanitizer.bypassSecurityTrustResourceUrl(this.configSvc.instanceConfig.logos.defaultContent)),this.paramSubscription=this.activatedRoute.queryParamMap.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){const n=l.get("collectionId"),t=l.get("collectionType");n&&t&&(t.toLowerCase()===gn.h.EMiscPlayerSupportedCollectionTypes.PLAYLIST.toLowerCase()?this.collection=yield this.getPlaylistContent(n,t):t.toLowerCase()===gn.h.EContentTypes.MODULE.toLowerCase()||t.toLowerCase()===gn.h.EContentTypes.COURSE.toLowerCase()||t.toLowerCase()===gn.h.EContentTypes.PROGRAM.toLowerCase()?this.collection=yield this.getCollection(n,t):this.isErrorOccurred=!0,this.collection&&(this.queue=this.utilitySvc.getLeafNodes(this.collection,[]))),this.resourceId&&this.processCurrentResourceChange()}))),this.viewerDataServiceSubscription=this.viewerDataSvc.changedSubject.subscribe(l=>{this.resourceId!==this.viewerDataSvc.resourceId&&(this.resourceId=this.viewerDataSvc.resourceId,this.processCurrentResourceChange())})}getContentProgressHash(){this.contentProgressSvc.getProgressHash().subscribe(l=>{this.contentProgressHash=l})}ngOnDestroy(){this.paramSubscription&&this.paramSubscription.unsubscribe(),this.viewerDataServiceSubscription&&this.viewerDataServiceSubscription.unsubscribe()}changeTocMode(){this.tocMode="FLAT"===this.tocMode?"TREE":"FLAT"}processCurrentResourceChange(){if(this.collection&&this.resourceId){const l=this.queue.findIndex(l=>l.identifier===this.resourceId),n=l+1<this.queue.length?this.queue[l+1].viewerUrl:null,t=l-1>=0?this.queue[l-1].viewerUrl:null;this.viewerDataSvc.updateNextPrevResource(Boolean(this.collection),t,n),this.processCollectionForTree(),this.expandThePath(),this.getContentProgressHash()}}getCollection(l,n){return V.__awaiter(this,void 0,void 0,(function*(){try{const n=yield(this.forPreview?this.contentSvc.fetchAuthoringContent(l):this.contentSvc.fetchContent(l,"detail")).toPromise();this.collectionCard=this.createCollectionCard(n);const t=this.convertContentToIViewerTocCard(n);return this.isFetching=!1,t}catch(n){switch(n.status){case 403:this.errorWidgetData.widgetData.errorType="accessForbidden";break;case 404:this.errorWidgetData.widgetData.errorType="notFound";break;case 500:this.errorWidgetData.widgetData.errorType="internalServer";break;case 503:this.errorWidgetData.widgetData.errorType="serviceUnavailable";break;default:this.errorWidgetData.widgetData.errorType="somethingWrong"}return this.isFetching=!1,null}}))}getPlaylistContent(l,n){return V.__awaiter(this,void 0,void 0,(function*(){try{const n=(yield this.contentSvc.fetchCollectionHierarchy("playlist",l,0,1e3).toPromise()).data;this.collectionCard=this.createCollectionCard(n);const t=this.convertContentToIViewerTocCard(n);return this.isFetching=!1,t}catch(n){switch(n.status){case 403:this.errorWidgetData.widgetData.errorType="accessForbidden";break;case 404:this.errorWidgetData.widgetData.errorType="notFound";break;case 500:this.errorWidgetData.widgetData.errorType="internalServer";break;case 503:this.errorWidgetData.widgetData.errorType="serviceUnavailable";break;default:this.errorWidgetData.widgetData.errorType="somethingWrong"}return this.isFetching=!1,null}}))}convertContentToIViewerTocCard(l){return{identifier:l.identifier,viewerUrl:`${this.forPreview?"/author":""}/viewer/${Object(gn.n)(l.mimeType)}/${l.identifier}`,thumbnailUrl:this.forPreview?this.viewSvc.getAuthoringUrl(l.appIcon):l.appIcon,title:l.name,duration:l.duration,type:l.resourceType?l.resourceType:l.contentType,complexity:l.complexityLevel,children:Array.isArray(l.children)&&l.children.length?l.children.map(l=>this.convertContentToIViewerTocCard(l)):null}}createCollectionCard(l){return{type:this.getCollectionTypeCard(l.displayContentType),id:l.identifier,title:l.name,thumbnail:this.forPreview?this.viewSvc.getAuthoringUrl(l.appIcon):l.appIcon,subText1:l.resourceType?l.resourceType:l.contentType,subText2:l.complexityLevel,duration:l.duration,redirectUrl:this.getCollectionTypeRedirectUrl(l.identifier,l.displayContentType)}}getCollectionTypeCard(l){switch(l){case gn.h.EDisplayContentTypes.PROGRAM:case gn.h.EDisplayContentTypes.COURSE:case gn.h.EDisplayContentTypes.MODULE:return"content";case gn.h.EDisplayContentTypes.GOALS:return"goals";case gn.h.EDisplayContentTypes.PLAYLIST:return"playlist";default:return null}}getCollectionTypeRedirectUrl(l,n){switch(n){case gn.h.EDisplayContentTypes.PROGRAM:case gn.h.EDisplayContentTypes.COURSE:case gn.h.EDisplayContentTypes.MODULE:return`${this.forPreview?"/author":"/app"}/toc/${l}/overview`;case gn.h.EDisplayContentTypes.GOALS:return"/app/goals/"+l;case gn.h.EDisplayContentTypes.PLAYLIST:return"/app/playlist/"+l;default:return null}}processCollectionForTree(){this.collection&&this.collection.children&&(this.nestedDataSource.data=this.collection.children,this.pathSet=new Set,this.resourceId&&Object(fn.a)(!0).pipe(Object(vn.a)(2e3)).subscribe(()=>{this.expandThePath()}))}expandThePath(){if(this.collection&&this.resourceId){const l=this.utilitySvc.getPath(this.collection,this.resourceId);this.pathSet=new Set(l.map(l=>l.identifier)),l.forEach(l=>{this.nestedTreeControl.expand(l)})}}minimizenav(){this.hidenav.emit(!1)}}var Pn=t("4fW1"),Sn=t("mBet"),Dn=t("JB76"),Cn=e.sb({encapsulation:0,styles:[[".treemode-slider[_ngcontent-%COMP%]{text-align:right;padding-right:16px}.flat-list-content-title[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}.toc-tree-invisible[_ngcontent-%COMP%]{display:none}.toc-tree[_ngcontent-%COMP%]{padding-inline-start:0}.toc-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .toc-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.content-active[_ngcontent-%COMP%]{color:orange;font-size:1.02rem}.content-duration[_ngcontent-%COMP%]{margin:0 8px}app-content-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.completed-icon[_ngcontent-%COMP%]{color:green}.height-auto[_ngcontent-%COMP%]{height:auto!important;margin:auto}.flat-list-content[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-toc-thumbnail[_ngcontent-%COMP%]{height:40px!important;width:70px!important}.viewer-toc-header-thumbnail[_ngcontent-%COMP%]{height:73px!important;width:130px!important}.width-expand[_ngcontent-%COMP%]{flex:1;min-width:1px}.align-self-start[_ngcontent-%COMP%]{align-self:start}.align-self-center[_ngcontent-%COMP%]{align-self:center}.resource-container[_ngcontent-%COMP%]{display:flex!important;align-items:center;justify-content:space-between;margin:12px 0;padding:0 12px 0 0;width:100%}.resource-container[_ngcontent-%COMP%]   ws-display-content-type-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.resource-container[_ngcontent-%COMP%]   .resource-meta[_ngcontent-%COMP%]{margin-left:12px;display:flex;justify-content:space-between;align-items:center}.width-max-content[_ngcontent-%COMP%]{width:max-content}.margin-left-xxs[_ngcontent-%COMP%]{margin-left:4px}"]],data:{}});function Gn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-start mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Mn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" |"]))],null,null)}function xn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,3,"span",[["class","mat-body-1 margin-left-xxs"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Ob(2,null,[" ",""])),e.Kb(3,2)],null,(function(l,n){var t=n.component,i=e.Pb(n,2,0,l(n,3,0,e.Gb(n.parent.parent.parent,0),null==t.collectionCard?null:t.collectionCard.subText2,300));l(n,2,0,i)}))}function In(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,11,"div",[["class","width-1-1"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(2,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"]},null),e.Jb(3,{identifier:0}),(l()(),e.ub(4,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(5,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(6,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(7,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(8,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(9,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(10,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(11,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null)],(function(l,n){var t=n.component,e=l(n,3,0,null==t.collectionCard?null:t.collectionCard.id);l(n,2,0,e),l(n,5,0,t.forPreview),l(n,7,0,t.forPreview),l(n,9,0,t.forPreview),l(n,11,0,t.forPreview)}),(function(l,n){l(n,1,0,e.Gb(n,2).id,e.Gb(n,2).widgetSafeStyle,e.Gb(n,2).className),l(n,4,0,e.Gb(n,5).id,e.Gb(n,5).widgetSafeStyle,e.Gb(n,5).className),l(n,6,0,e.Gb(n,7).id,e.Gb(n,7).widgetSafeStyle,e.Gb(n,7).className),l(n,8,0,e.Gb(n,9).id,e.Gb(n,9).widgetSafeStyle,e.Gb(n,9).className),l(n,10,0,e.Gb(n,11).id,e.Gb(n,11).widgetSafeStyle,e.Gb(n,11).className)}))}function On(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,31,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,29,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(3,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(4,0,null,null,27,"span",[["class","width-expand flex flex-middle"]],null,null,null,null,null)),(l()(),e.ub(5,0,null,null,3,"a",[["class","viewer-toc-header-thumbnail align-self-start margin-auto"],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,6).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(6,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.ub(7,0,null,null,1,"img",[["alt","thumbnail"],["class","viewer-toc-header-thumbnail align-self-start margin-auto mat-app-background"]],[[8,"src",4]],[[null,"error"]],(function(l,n,t){var i=!0;return"error"===n&&(i=!1!==e.Gb(l,8).updateSrc()&&i),i}),null,null)),e.tb(8,540672,null,0,xl.a,[],{wsUtilsDefaultThumbnail:[0,"wsUtilsDefaultThumbnail"],src:[1,"src"]},null),(l()(),e.ub(9,0,null,null,18,"span",[["class","width-1-1 margin-left-m flex flex-wrapped align-self-start"]],null,null,null,null,null)),(l()(),e.ub(10,0,null,null,7,"div",[["class","width-1-1 flex flex-between"]],null,null,null,null,null)),(l()(),e.ub(11,0,null,null,6,"div",[["class","mat-body-2 font-bold text-truncate flex"]],null,null,null,null,null)),(l()(),e.ub(12,0,null,null,3,"a",[["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,13).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(13,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.Ob(14,null,[" "," "])),e.Kb(15,2),(l()(),e.kb(16777216,null,null,1,null,Gn)),e.tb(17,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(18,0,null,null,5,"span",[["class","mat-body-1"]],null,null,null,null,null)),(l()(),e.ub(19,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Ob(20,null,["",""])),e.Kb(21,2),(l()(),e.kb(16777216,null,null,1,null,Mn)),e.tb(23,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,xn)),e.tb(25,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,In)),e.tb(27,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(28,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.ub(29,0,null,null,2,"div",[["class","mat-body-1 content-duration mat-caption width-max-content"]],null,null,null,null,null)),(l()(),e.Ob(30,null,[" "," "])),e.Kb(31,2)],(function(l,n){var t=n.component;l(n,6,0,"preserve",null==t.collectionCard?null:t.collectionCard.redirectUrl),l(n,8,0,t.defaultThumbnail,null==t.collectionCard?null:t.collectionCard.thumbnail),l(n,13,0,"preserve",null==t.collectionCard?null:t.collectionCard.redirectUrl),l(n,17,0,t.contentProgressHash&&t.contentProgressHash[null==t.collectionCard?null:t.collectionCard.id]&&t.contentProgressHash[null==t.collectionCard?null:t.collectionCard.id]>.99),l(n,23,0,null==t.collectionCard?null:t.collectionCard.subText2),l(n,25,0,null==t.collectionCard?null:t.collectionCard.subText2),l(n,27,0,"content"===(null==t.collectionCard?null:t.collectionCard.type))}),(function(l,n){var t=n.component;l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,5,0,e.Gb(n,6).target,e.Gb(n,6).href),l(n,7,0,e.Gb(n,8).srcUrl),l(n,12,0,e.Gb(n,13).target,e.Gb(n,13).href);var i=e.Pb(n,14,0,l(n,15,0,e.Gb(n.parent.parent,0),null==t.collectionCard?null:t.collectionCard.title,20));l(n,14,0,i);var a=e.Pb(n,20,0,l(n,21,0,e.Gb(n.parent.parent,0),null==t.collectionCard?null:t.collectionCard.subText1,300));l(n,20,0,a);var u=e.Pb(n,30,0,l(n,31,0,e.Gb(n.parent.parent,1),null==t.collectionCard?null:t.collectionCard.duration,"hms"));l(n,30,0,u)}))}function kn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"mat-divider",[["class","margin-bottom-xs mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Il.b,Il.a)),e.tb(1,49152,null,0,Ol.a,[],null,null)],null,(function(l,n){l(n,0,0,e.Gb(n,1).vertical?"vertical":"horizontal",e.Gb(n,1).vertical,!e.Gb(n,1).vertical,e.Gb(n,1).inset)}))}function _n(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","padding-left-m"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Structure"]))],null,null)}function Tn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","padding-left-m"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Queue"]))],null,null)}function En(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,13,"div",[["class","flex flex-middle"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,_n)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Tn)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(5,0,null,null,0,"span",[["class","spacer"]],null,null,null,null,null)),(l()(),e.ub(6,0,null,null,7,"div",[["class","margin-right-m"]],null,null,null,null,null)),(l()(),e.ub(7,0,null,null,6,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(l,n,t){var i=!0,a=l.component;return"focus"===n&&(i=!1!==e.Gb(l,9)._inputElement.nativeElement.focus()&&i),"change"===n&&(i=!1!==a.changeTocMode()&&i),i}),kl.b,kl.a)),e.Lb(5120,null,_l.q,(function(l){return[l]}),[Tl.b]),e.tb(9,1228800,null,0,Tl.b,[e.k,W.h,e.h,[8,null],e.y,Tl.a,[2,A.a],[2,El.b]],{checked:[0,"checked"]},{change:"change"}),(l()(),e.ub(10,0,null,0,3,"span",[["accesskey","T"]],null,null,null,null,null)),(l()(),e.ub(11,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(12,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["view_list"]))],(function(l,n){var t=n.component;l(n,2,0,"TREE"===t.tocMode),l(n,4,0,"FLAT"===t.tocMode),l(n,9,0,"FLAT"===t.tocMode),l(n,12,0)}),(function(l,n){l(n,7,0,e.Gb(n,9).id,e.Gb(n,9).disabled?null:-1,e.Gb(n,9).checked,e.Gb(n,9).disabled,"before"==e.Gb(n,9).labelPosition,"NoopAnimations"===e.Gb(n,9)._animationMode),l(n,11,0,e.Gb(n,12).inline,"primary"!==e.Gb(n,12).color&&"accent"!==e.Gb(n,12).color&&"warn"!==e.Gb(n,12).color)}))}function Rn(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,"div",[],null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.errorWidgetData)}),null)}function Nn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"section",[],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Rn)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,null==t.errorWidgetData||null==t.errorWidgetData.widgetData?null:t.errorWidgetData.widgetData.errorType)}),null)}function Fn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,5,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(3,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(4,0,null,null,1,"span",[["class","width-expand flex flex-middle mat-error"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" The Resource is not part of the collection "]))],null,(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode)}))}function Ln(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Un(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"mat-list-item",[["class","height-auto mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Ll.f,Ll.b)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"mat-toolbar":0}),e.tb(4,1228800,null,3,Ul.d,[e.k,e.h,[2,Ul.g],[2,Ul.a]],null,null),e.Mb(603979776,1,{_lines:1}),e.Mb(603979776,2,{_avatar:0}),e.Mb(603979776,3,{_icon:0}),(l()(),e.kb(16777216,null,2,2,null,Ln)),e.tb(9,540672,null,0,z.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(10,{$implicit:0})],(function(l,n){var t=l(n,3,0,n.component.pathSet.has(n.context.$implicit.identifier));l(n,2,0,"height-auto",t);var i=l(n,10,0,n.context.$implicit);l(n,9,0,i,e.Gb(n.parent.parent,5))}),(function(l,n){l(n,0,0,e.Gb(n,4)._avatar||e.Gb(n,4)._icon,e.Gb(n,4)._avatar||e.Gb(n,4)._icon)}))}function Qn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Wn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,8,"mat-tree-node",[["class","mat-tree-node"],["matTreeNodeToggle",""]],[[1,"aria-expanded",0],[1,"aria-level",0],[1,"role",0]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,4)._toggle(t)&&i),i}),null,null)),e.Lb(6144,null,Ql.i,null,[Wl.k]),e.tb(2,16384,null,0,Wl.g,[e.k,Ql.c,[8,null]],null,null),e.Lb(2048,null,Ql.e,null,[Wl.g]),e.tb(4,16384,null,0,Wl.k,[Ql.c,Ql.e],null,null),(l()(),e.ub(5,0,null,null,3,"li",[["class","mat-tree-node leaf-node"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,2,null,Qn)),e.tb(7,540672,null,0,z.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(8,{$implicit:0})],(function(l,n){var t=l(n,8,0,n.context.$implicit);l(n,7,0,t,e.Gb(n.parent.parent,6))}),(function(l,n){l(n,0,0,e.Gb(n,2).isExpanded,"treeitem"===e.Gb(n,2).role?e.Gb(n,2).level:null,e.Gb(n,2).role)}))}function An(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["check_circle"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function zn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,37,"mat-nested-tree-node",[["class","mat-nested-tree-node"]],[[1,"aria-expanded",0],[1,"role",0]],null,null,null,null)),e.Lb(6144,null,Ql.b,null,[Wl.a]),e.tb(2,1196032,null,1,Wl.a,[e.k,Ql.c,e.r,[8,null]],null,null),e.Mb(603979776,5,{nodeOutlet:1}),e.Lb(2048,null,Ql.e,null,[Wl.a]),e.Lb(2048,null,Ql.a,null,[Wl.a]),(l()(),e.ub(6,0,null,null,31,"li",[],null,null,null,null,null)),(l()(),e.ub(7,0,null,null,26,"div",[["class","mat-tree-node"]],null,null,null,null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(9,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(10,{"mat-toolbar":0}),(l()(),e.ub(11,0,null,null,6,"button",[["class","width-auto"],["mat-icon-button",""],["matTreeNodeToggle",""]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,14)._toggle(t)&&i),i}),U.d,U.b)),e.Lb(6144,null,Ql.i,null,[Wl.k]),e.tb(13,180224,null,0,Q.b,[e.k,W.h,[2,A.a]],null,null),e.tb(14,16384,null,0,Wl.k,[Ql.c,Ql.e],null,null),(l()(),e.ub(15,0,null,0,2,"mat-icon",[["class","mat-icon-rtl-mirror mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(16,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(17,0,[" "," "])),(l()(),e.ub(18,0,null,null,1,"ws-widget-display-content-type-icon",[["class","flex"]],null,null,null,cn,Kl)),e.tb(19,114688,null,0,zl,[],{displayContentType:[0,"displayContentType"]},null),(l()(),e.ub(20,0,null,null,9,"span",[["class","flat-list-content-title width-expand margin-left-xs"],["matRipple",""],["matTreeNodeToggle",""],["role","button"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,25)._toggle(t)&&i),i}),null,null)),e.Lb(6144,null,Ql.i,null,[Wl.k]),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(23,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(24,{"content-active":0}),e.tb(25,16384,null,0,Wl.k,[Ql.c,Ql.e],null,null),(l()(),e.ub(26,0,null,null,1,"h3",[["class","text-truncate margin-remove"]],null,null,null,null,null)),(l()(),e.Ob(27,null,["",""])),(l()(),e.kb(16777216,null,null,1,null,An)),e.tb(29,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(30,0,null,null,3,"div",[["class","content-duration flex flex-center"]],null,null,null,null,null)),(l()(),e.ub(31,0,null,null,2,"h3",[["class","mat-caption margin-remove width-max-content"]],null,null,null,null,null)),(l()(),e.Ob(32,null,[" "," "])),e.Kb(33,2),(l()(),e.ub(34,0,null,null,3,"ul",[],[[8,"hidden",0]],null,null,null,null)),(l()(),e.ub(35,16777216,null,null,2,null,null,null,null,null,null,null)),e.tb(36,16384,null,0,Wl.i,[e.P,[2,Ql.a]],null,null),e.Lb(2048,[[5,4]],Ql.g,null,[Wl.i])],(function(l,n){var t=n.component,e=l(n,10,0,t.pathSet.has(n.context.$implicit.identifier));l(n,9,0,"mat-tree-node",e),l(n,16,0),l(n,19,0,null==n.context.$implicit?null:n.context.$implicit.type);var i=l(n,24,0,t.pathSet.has(n.context.$implicit.identifier));l(n,23,0,"flat-list-content-title width-expand margin-left-xs",i),l(n,29,0,t.contentProgressHash&&t.contentProgressHash[n.context.$implicit.identifier]&&t.contentProgressHash[n.context.$implicit.identifier]>.99)}),(function(l,n){var t=n.component;l(n,0,0,e.Gb(n,2).isExpanded,e.Gb(n,2).role),l(n,11,0,"toggle "+n.context.$implicit.name,e.Gb(n,13).disabled||null,"NoopAnimations"===e.Gb(n,13)._animationMode),l(n,15,0,e.Gb(n,16).inline,"primary"!==e.Gb(n,16).color&&"accent"!==e.Gb(n,16).color&&"warn"!==e.Gb(n,16).color),l(n,17,0,t.nestedTreeControl.isExpanded(n.context.$implicit)?"expand_less":"expand_more"),l(n,27,0,n.context.$implicit.title);var i=e.Pb(n,32,0,l(n,33,0,e.Gb(n.parent.parent,1),n.context.$implicit.duration,"hms"));l(n,32,0,i),l(n,34,0,!t.nestedTreeControl.isExpanded(n.context.$implicit))}))}function Kn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,27,null,null,null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,On)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,kn)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,En)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(7,0,null,null,1,"mat-divider",[["class","margin-top-xs mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Il.b,Il.a)),e.tb(8,49152,null,0,Ol.a,[],null,null),(l()(),e.kb(16777216,null,null,1,null,Nn)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Fn)),e.tb(12,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(13,0,null,null,3,"mat-list",[["class","mat-list mat-list-base"]],[[8,"hidden",0]],null,null,Ll.h,Ll.a)),e.tb(14,704512,null,0,Ul.a,[e.k],null,null),(l()(),e.kb(16777216,null,0,1,null,Un)),e.tb(16,278528,null,0,z.o,[e.P,e.M,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ub(17,0,null,null,10,"ul",[["class","toc-tree"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.ub(18,0,null,null,9,"mat-tree",[["class","mat-tree"],["role","tree"]],null,null,null,dn.b,dn.a)),e.Lb(6144,null,Ql.c,null,[Wl.b]),e.tb(20,2342912,null,1,Wl.b,[e.r,e.h],{dataSource:[0,"dataSource"],treeControl:[1,"treeControl"]},null),e.Mb(603979776,4,{_nodeDefs:1}),(l()(),e.kb(0,null,null,2,null,Wn)),e.tb(23,16384,null,0,Wl.h,[e.M],null,null),e.Lb(2048,[[4,4]],Ql.f,null,[Wl.h]),(l()(),e.kb(0,null,null,2,null,zn)),e.tb(26,16384,null,0,Wl.h,[e.M],{when:[0,"when"]},null),e.Lb(2048,[[4,4]],Ql.f,null,[Wl.h])],(function(l,n){var t=n.component;l(n,2,0,t.collection&&t.collectionCard),l(n,4,0,t.collection),l(n,6,0,t.collection),l(n,10,0,!t.collection),l(n,12,0,t.collection&&t.pathSet&&!t.pathSet.has(t.resourceId)),l(n,16,0,t.queue),l(n,20,0,t.nestedDataSource,t.nestedTreeControl),l(n,26,0,t.hasNestedChild)}),(function(l,n){var t=n.component;l(n,7,0,e.Gb(n,8).vertical?"vertical":"horizontal",e.Gb(n,8).vertical,!e.Gb(n,8).vertical,e.Gb(n,8).inset),l(n,13,0,"FLAT"!==t.tocMode),l(n,17,0,"TREE"!==t.tocMode)}))}function qn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","flex flex-center"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bn.d,bn.b)),e.tb(2,49152,null,0,hn.d,[e.k,j.a,[2,z.d],[2,A.a],hn.a],null,null)],null,(function(l,n){l(n,1,0,e.Gb(n,2)._noopAnimations,e.Gb(n,2).diameter,e.Gb(n,2).diameter)}))}function Hn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","flex flex-center"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"h2",[["class","mat-sub-heading"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Unsupported Collection Type "]))],null,null)}function $n(l){return e.Qb(0,[(l()(),e.kb(16777216,null,null,1,null,qn)),e.tb(1,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Hn)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){var t=n.component;l(n,1,0,!t.isErrorOccurred),l(n,3,0,t.isErrorOccurred)}),null)}function jn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-start mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Jn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,3,"span",[["class","mat-body-1 margin-left-xxs"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Ob(2,null,["| ",""])),e.Kb(3,2)],null,(function(l,n){var t=e.Pb(n,2,0,l(n,3,0,e.Gb(n.parent.parent,0),null==n.parent.context.$implicit?null:n.parent.context.$implicit.complexity,300));l(n,2,0,t)}))}function Vn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,28,"a",[["class","width-expand flat-list-content margin-xs"],["matRipple",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0,a=l.component;return"click"===n&&(i=!1!==e.Gb(l,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),"click"===n&&(i=!1!==a.minimizenav()&&i),i}),null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"content-active":0}),e.tb(4,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.ub(5,0,null,null,23,"span",[["class","width-expand flex flex-middle"]],null,null,null,null,null)),(l()(),e.ub(6,0,null,null,1,"img",[["alt","thumbnail"],["class","viewer-toc-thumbnail align-self-start margin-auto mat-app-background"]],[[8,"src",4]],[[null,"error"]],(function(l,n,t){var i=!0;return"error"===n&&(i=!1!==e.Gb(l,7).updateSrc()&&i),i}),null,null)),e.tb(7,540672,null,0,xl.a,[],{wsUtilsDefaultThumbnail:[0,"wsUtilsDefaultThumbnail"],src:[1,"src"]},null),(l()(),e.ub(8,0,null,null,16,"span",[["class","width-1-1 margin-left-m flex flex-wrapped align-self-start"]],null,null,null,null,null)),(l()(),e.ub(9,0,null,null,9,"div",[["class","width-1-1 flex flex-between"]],null,null,null,null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(11,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(12,{"content-active":0}),(l()(),e.ub(13,0,null,null,5,"div",[["class","mat-body-2 font-bold text-truncate flex"]],null,null,null,null,null)),(l()(),e.ub(14,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Ob(15,null,[" "," "])),e.Kb(16,2),(l()(),e.kb(16777216,null,null,1,null,jn)),e.tb(18,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(19,0,null,null,3,"span",[["class","mat-body-1"]],null,null,null,null,null)),(l()(),e.ub(20,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Ob(21,null,["",""])),e.Kb(22,2),(l()(),e.kb(16777216,null,null,1,null,Jn)),e.tb(24,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(25,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.ub(26,0,null,null,2,"div",[["class","mat-body-1 content-duration mat-caption width-max-content"]],null,null,null,null,null)),(l()(),e.Ob(27,null,[" "," "])),e.Kb(28,2)],(function(l,n){var t=n.component,e=l(n,3,0,t.pathSet.has(n.context.$implicit.identifier));l(n,2,0,"width-expand flat-list-content margin-xs",e),l(n,4,0,"preserve",n.context.$implicit.viewerUrl),l(n,7,0,t.defaultThumbnail,n.context.$implicit.thumbnailUrl);var i=l(n,12,0,t.pathSet.has(n.context.$implicit.identifier));l(n,11,0,"width-1-1 flex flex-between",i),l(n,18,0,t.contentProgressHash&&t.contentProgressHash[n.context.$implicit.identifier]&&t.contentProgressHash[n.context.$implicit.identifier]>.99),l(n,24,0,null==n.context.$implicit?null:n.context.$implicit.complexity)}),(function(l,n){l(n,0,0,e.Gb(n,4).target,e.Gb(n,4).href),l(n,6,0,e.Gb(n,7).srcUrl);var t=e.Pb(n,15,0,l(n,16,0,e.Gb(n.parent,0),n.context.$implicit.title,20));l(n,15,0,t);var i=e.Pb(n,21,0,l(n,22,0,e.Gb(n.parent,0),n.context.$implicit.type,300));l(n,21,0,i);var a=e.Pb(n,27,0,l(n,28,0,e.Gb(n.parent,1),n.context.$implicit.duration,"hms"));l(n,27,0,a)}))}function Bn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-center mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Yn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"h3",[["class","margin-remove text-truncate flex"]],null,null,null,null,null)),(l()(),e.Ob(1,null,[" "," "])),e.Kb(2,2),(l()(),e.kb(16777216,null,null,1,null,Bn)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,4,0,t.contentProgressHash&&t.contentProgressHash[n.parent.context.$implicit.identifier]&&t.contentProgressHash[n.parent.context.$implicit.identifier]>.99)}),(function(l,n){var t=e.Pb(n,1,0,l(n,2,0,e.Gb(n.parent.parent,0),null==n.parent.context.$implicit?null:n.parent.context.$implicit.title,30));l(n,1,0,t)}))}function Xn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-center mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Zn(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"h1",[["class","margin-remove text-truncate flex"]],null,null,null,null,null)),(l()(),e.Ob(1,null,[" "," "])),e.Kb(2,2),(l()(),e.kb(16777216,null,null,1,null,Xn)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,4,0,t.contentProgressHash&&t.contentProgressHash[n.parent.context.$implicit.identifier]&&t.contentProgressHash[n.parent.context.$implicit.identifier]>.99)}),(function(l,n){var t=e.Pb(n,1,0,l(n,2,0,e.Gb(n.parent.parent,0),null==n.parent.context.$implicit?null:n.parent.context.$implicit.title,30));l(n,1,0,t)}))}function lt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,15,"div",[["class","resource-container"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"ws-widget-display-content-type-icon",[["class","flex margin-left-xs"]],null,null,null,cn,Kl)),e.tb(2,114688,null,0,zl,[],{displayContentType:[0,"displayContentType"]},null),(l()(),e.ub(3,0,null,null,12,"div",[["class","resource-meta width-expand"]],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,8,"a",[["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(6,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.Jb(7,{"content-active":0}),e.tb(8,671744,null,0,L.r,[L.o,L.a,z.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(l()(),e.kb(16777216,null,null,1,null,Yn)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Zn)),e.tb(12,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(13,0,null,null,2,"span",[["class","margin-left-xs"]],null,null,null,null,null)),(l()(),e.Ob(14,null,["",""])),e.Kb(15,2)],(function(l,n){var t=n.component;l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.type);var e=l(n,7,0,t.pathSet.has(n.context.$implicit.identifier));l(n,6,0,e),l(n,8,0,"preserve",n.context.$implicit.viewerUrl),l(n,10,0,(null==n.context.$implicit?null:n.context.$implicit.type)!==t.enumContentTypes.ASSESSMENT),l(n,12,0,(null==n.context.$implicit?null:n.context.$implicit.type)===t.enumContentTypes.ASSESSMENT)}),(function(l,n){l(n,4,0,e.Gb(n,8).target,e.Gb(n,8).href);var t=e.Pb(n,14,0,l(n,15,0,e.Gb(n.parent,1),null==n.context.$implicit?null:n.context.$implicit.duration,"hms"));l(n,14,0,t)}))}function nt(l){return e.Qb(0,[e.Ib(0,mn.a,[]),e.Ib(0,pn.a,[]),(l()(),e.kb(16777216,null,null,1,null,Kn)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.kb(0,[["Loading",2]],null,0,null,$n)),(l()(),e.kb(0,[["TocContentCard",2]],null,0,null,Vn)),(l()(),e.kb(0,[["TocContentList",2]],null,0,null,lt))],(function(l,n){l(n,3,0,!n.component.isFetching,e.Gb(n,4))}),null)}var tt=t("c4Wm"),et=t("BV1i"),it=t("hOhj"),at=t("ctWZ"),ut=t("L6jU"),ot=t("+kCu"),rt=function(l){return l.accessForbidden="accessForbidden",l.notFound="notFound",l.internalServer="internalServer",l.serviceUnavailable="serviceUnavailable",l.somethingWrong="somethingWrong",l.mimeTypeMismatch="mimeTypeMismatch",l.previewUnAuthorised="previewUnAuthorised",l}({});class st{constructor(l,n,t,e,i,a,u){this.activatedRoute=l,this.router=n,this.valueSvc=t,this.dataSvc=e,this.rootSvc=i,this.utilitySvc=a,this.changeDetector=u,this.fullScreenContainer=null,this.content=null,this.errorType=rt,this.isLtMedium$=this.valueSvc.isLtMedium$,this.sideNavBarOpened=!1,this.mode="side",this.forPreview=window.location.href.includes("/author/"),this.isTypeOfCollection=!0,this.collectionId=this.activatedRoute.snapshot.queryParamMap.get("collectionId"),this.status="none",this.error=null,this.isNotEmbed=!0,this.errorWidgetData={widgetType:"errorResolver",widgetSubType:"errorResolver",widgetData:{errorType:""}},this.screenSizeSubscription=null,this.resourceChangeSubscription=null,this.rootSvc.showNavbarDisplay$.next(!1)}getContentData(l){l.activatedRoute.data.subscribe(l=>{l.content&&l.content.data&&(this.content=l.content.data)})}ngOnInit(){this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.screenSizeSubscription=this.isLtMedium$.subscribe(l=>{this.sideNavBarOpened=!1,this.mode=l?"over":"side"}),this.resourceChangeSubscription=this.dataSvc.changedSubject.subscribe(l=>{if(this.status=this.dataSvc.status,this.error=this.dataSvc.error,this.error&&this.error.status)switch(this.error.status){case 403:this.errorWidgetData.widgetData.errorType=rt.accessForbidden;break;case 404:this.errorWidgetData.widgetData.errorType=rt.notFound;break;case 500:this.errorWidgetData.widgetData.errorType=rt.internalServer;break;case 503:this.errorWidgetData.widgetData.errorType=rt.serviceUnavailable;break;default:this.errorWidgetData.widgetData.errorType=rt.somethingWrong}this.error&&this.error.errorType===this.errorType.mimeTypeMismatch&&setTimeout(()=>{this.router.navigate([this.error.probableUrl])},3e3)})}ngAfterViewChecked(){const l=document.getElementById("fullScreenContainer");l?(this.fullScreenContainer=l,this.changeDetector.detectChanges()):(this.fullScreenContainer=null,this.changeDetector.detectChanges())}ngOnDestroy(){this.rootSvc.showNavbarDisplay$.next(!0),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.resourceChangeSubscription&&this.resourceChangeSubscription.unsubscribe()}toggleSideBar(){this.sideNavBarOpened=!this.sideNavBarOpened}minimizeBar(){this.utilitySvc.isMobile&&(this.sideNavBarOpened=!1)}}var ct=e.sb({encapsulation:0,styles:[[".width-expand[_ngcontent-%COMP%]{flex:1;min-width:1px}.viewer-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 56px)}.viewer-sidenav[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width:600px){.viewer-sidenav[_ngcontent-%COMP%]{width:25%;min-width:400px;max-width:600px}}.viewer-sidenav-standalone[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width:600px){.viewer-sidenav-standalone[_ngcontent-%COMP%]{width:25%;min-width:300px;max-width:400px}}.full-height-width-iframe[_ngcontent-%COMP%]{height:100vh;width:100vw}.sidenavContent[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important}"]],data:{}});function dt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-viewer-top-bar",[],null,[[null,"toggle"]],(function(l,n,t){var e=!0;return"toggle"===n&&(e=!1!==l.component.toggleSideBar()&&e),e}),hl,tl)),e.tb(1,245760,null,0,X,[L.a,Z.b,ll.a,Y.a,nl.a],{frameReference:[0,"frameReference"],forPreview:[1,"forPreview"]},{toggle:"toggle"})],(function(l,n){var t=n.component;l(n,1,0,t.fullScreenContainer,t.forPreview)}),null)}function bt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-viewer-top-bar",[],null,[[null,"toggle"]],(function(l,n,t){var e=!0;return"toggle"===n&&(e=!1!==l.component.toggleSideBar()&&e),e}),hl,tl)),e.tb(1,245760,null,0,X,[L.a,Z.b,ll.a,Y.a,nl.a],{frameReference:[0,"frameReference"],forPreview:[1,"forPreview"]},{toggle:"toggle"})],(function(l,n){var t=n.component;l(n,1,0,t.fullScreenContainer,t.forPreview)}),null)}function ht(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,5,"mat-tab",[["label","Contents"],["tabindex","0"]],null,null,null,ml.f,ml.a)),e.tb(1,770048,[[3,4]],2,pl.c,[e.P],{textLabel:[0,"textLabel"]},null),e.Mb(603979776,4,{templateLabel:0}),e.Mb(335544320,5,{_explicitContent:0}),(l()(),e.ub(4,0,null,0,1,"viewer-viewer-toc",[],null,[[null,"hidenav"]],(function(l,n,t){var e=!0;return"hidenav"===n&&(e=!1!==l.component.minimizeBar()&&e),e}),nt,Cn)),e.tb(5,245760,null,0,yn,[L.a,Z.b,Pn.a,Sn.a,Y.a,wn.a,ll.a,Dn.a],{forPreview:[0,"forPreview"]},{hidenav:"hidenav"}),(l()(),e.kb(0,null,null,0))],(function(l,n){var t=n.component;l(n,1,0,"Contents"),l(n,5,0,t.forPreview)}),null)}function mt(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,"div",[],null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.errorWidgetData)}),null)}function pt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,25,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(2,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(3,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e.tb(4,16384,null,0,Ml.j,[],null,null),(l()(),e.Ob(-1,null,["Looks like we are having some issues in our content."])),(l()(),e.ub(6,0,null,0,20,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(8,0,null,null,6,"div",[["class","mat-caption"]],null,null,null,null,null)),(l()(),e.ub(9,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Debug Message: This content is of a different mimeType ( "])),(l()(),e.ub(11,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Ob(12,null,[" "," "])),(l()(),e.ub(13,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Ob(-1,null,[" ) "])),(l()(),e.ub(15,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.ub(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Possible Link: "])),(l()(),e.ub(18,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,19).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(19,671744,null,0,L.r,[L.o,L.a,z.l],{routerLink:[0,"routerLink"]},null),(l()(),e.Ob(20,null,[" "," "])),(l()(),e.ub(21,0,null,null,5,"div",[["class","margin-top-m text-center"]],null,null,null,null,null)),(l()(),e.ub(22,0,null,null,2,"a",[["class","ws-mat-primary-text"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,23).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(23,671744,null,0,L.r,[L.o,L.a,z.l],{routerLink:[0,"routerLink"]},null),(l()(),e.Ob(-1,null,["Report to us"])),(l()(),e.ub(25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" and we will make it work"]))],(function(l,n){l(n,19,0,n.component.error.probableUrl),l(n,23,0,"/feedback/bug")}),(function(l,n){var t=n.component;l(n,1,0,"NoopAnimations"===e.Gb(n,2)._animationMode),l(n,12,0,null==t.error?null:t.error.mimeType),l(n,18,0,e.Gb(n,19).target,e.Gb(n,19).href),l(n,20,0,t.error.probableUrl),l(n,22,0,e.Gb(n,23).target,e.Gb(n,23).href)}))}function gt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,12,"mat-card",[["class","margin-m mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(2,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(3,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e.tb(4,16384,null,0,Ml.j,[],null,null),(l()(),e.Ob(-1,null,["Looks like you are not authorized to preview this content."])),(l()(),e.ub(6,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(8,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.ub(9,0,null,null,2,"a",[["class","ws-mat-primary-text"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,10).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(10,671744,null,0,L.r,[L.o,L.a,z.l],{routerLink:[0,"routerLink"]},null),(l()(),e.Ob(-1,null,["Report to us"])),(l()(),e.ub(12,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" and we will make it work"]))],(function(l,n){l(n,10,0,"/feedback/bug")}),(function(l,n){l(n,1,0,"NoopAnimations"===e.Gb(n,2)._animationMode),l(n,9,0,e.Gb(n,10).target,e.Gb(n,10).href)}))}function ft(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,6,"section",[],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,mt)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,pt)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,gt)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,null==t.errorWidgetData||null==t.errorWidgetData.widgetData?null:t.errorWidgetData.widgetData.errorType),l(n,4,0,t.error.errorType===t.errorType.mimeTypeMismatch),l(n,6,0,t.error.errorType===t.errorType.previewUnAuthorised)}),null)}function vt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"section",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bn.d,bn.b)),e.tb(2,49152,null,0,hn.d,[e.k,j.a,[2,z.d],[2,A.a],hn.a],null,null)],null,(function(l,n){l(n,1,0,e.Gb(n,2)._noopAnimations,e.Gb(n,2).diameter,e.Gb(n,2).diameter)}))}function wt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,31,"section",[],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,dt)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,bt)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(5,0,null,null,26,"mat-sidenav-container",[["autosize",""],["class","viewer-sidenav-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,tt.d,tt.b)),e.tb(6,1490944,null,2,et.f,[[2,El.b],e.k,e.y,e.h,it.e,et.a,[2,A.a]],{autosize:[0,"autosize"]},null),e.Mb(603979776,1,{_drawers:1}),e.Mb(603979776,2,{_content:0}),(l()(),e.ub(9,0,null,0,14,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["position","end"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(l,n,t){var i=!0;return"component:@transform.start"===n&&(i=!1!==e.Gb(l,12)._animationStartListener(t)&&i),"component:@transform.done"===n&&(i=!1!==e.Gb(l,12)._animationDoneListener(t)&&i),i}),tt.f,tt.a)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(11,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.tb(12,3325952,[[1,4]],0,et.e,[e.k,W.i,W.h,j.a,e.y,[2,z.d]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(l()(),e.ub(13,0,null,0,10,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,ml.d,ml.b)),e.tb(14,3325952,null,1,pl.g,[e.k,e.h,[2,pl.a],[2,A.a]],null,null),e.Mb(603979776,3,{_tabs:1}),(l()(),e.kb(16777216,null,null,1,null,ht)),e.tb(17,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(18,16777216,null,null,5,"mat-tab",[["label","Details"],["tabindex","0"]],null,null,null,ml.f,ml.a)),e.tb(19,770048,[[3,4]],2,pl.c,[e.P],{textLabel:[0,"textLabel"]},null),e.Mb(603979776,6,{templateLabel:0}),e.Mb(335544320,7,{_explicitContent:0}),(l()(),e.ub(22,0,null,0,1,"ws-widget-player-brief",[],null,null,null,at.b,at.a)),e.tb(23,114688,null,0,ut.a,[ll.a,Sn.a,L.o,Pn.a],{content:[0,"content"],forPreview:[1,"forPreview"]},null),(l()(),e.ub(24,0,null,1,7,"mat-sidenav-content",[["class","sidenavContent mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,tt.e,tt.c)),e.tb(25,1294336,[[2,4],["scrollableContent",4]],0,et.g,[e.h,et.f,e.k,it.b,e.y],null,null),(l()(),e.kb(16777216,null,0,1,null,ft)),e.tb(27,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,vt)),e.tb(29,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(30,16777216,null,0,1,"router-outlet",[],null,[[null,"activate"]],(function(l,n,t){var e=!0;return"activate"===n&&(e=!1!==l.component.getContentData(t)&&e),e}),null,null)),e.tb(31,212992,null,0,L.t,[L.b,e.P,e.j,[8,null],e.h],null,{activateEvents:"activate"})],(function(l,n){var t=n.component;l(n,2,0,t.fullScreenContainer),l(n,4,0,!t.fullScreenContainer),l(n,6,0,""),l(n,11,0,t.isTypeOfCollection?"viewer-sidenav":"viewer-sidenav-standalone"),l(n,12,0,"end",t.mode,t.sideNavBarOpened),l(n,17,0,t.isTypeOfCollection),l(n,19,0,"Details"),l(n,23,0,t.content,t.forPreview),l(n,25,0),l(n,27,0,"error"===t.status),l(n,29,0,"pending"===t.status),l(n,31,0)}),(function(l,n){l(n,5,0,e.Gb(n,6)._backdropOverride),l(n,9,0,null,"end"===e.Gb(n,12).position,"over"===e.Gb(n,12).mode,"push"===e.Gb(n,12).mode,"side"===e.Gb(n,12).mode,e.Gb(n,12).opened,e.Gb(n,12).fixedInViewport,e.Gb(n,12).fixedInViewport?e.Gb(n,12).fixedTopGap:null,e.Gb(n,12).fixedInViewport?e.Gb(n,12).fixedBottomGap:null,e.Gb(n,12)._animationState),l(n,13,0,e.Gb(n,14).dynamicHeight,"below"===e.Gb(n,14).headerPosition),l(n,24,0,e.Gb(n,25)._container._contentMargins.left,e.Gb(n,25)._container._contentMargins.right)}))}function yt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(l()(),e.ub(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.tb(2,212992,null,0,L.t,[L.b,e.P,e.j,[8,null],e.h],null,null)],(function(l,n){l(n,2,0)}),null)}function Pt(l){return e.Qb(0,[(l()(),e.kb(16777216,null,null,1,null,wt)),e.tb(1,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,yt)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isNotEmbed),l(n,3,0,!t.isNotEmbed)}),null)}function St(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-container",[],null,null,null,Pt,ct)),e.tb(1,8634368,null,0,st,[L.a,L.o,nl.a,Y.a,ot.a,Sn.a,e.h],null,null)],(function(l,n){l(n,1,0)}),null)}var Dt=e.qb("viewer-container",st,St,{},{},[]),Ct=t("c3Nb"),Gt=t("tHRR"),Mt=t("OAMf"),xt=t("iBkE"),It=t("/FHN"),Ot=t("l8ls"),kt=t("U5F2");class _t{constructor(l,n){this.activatedRoute=l,this.configSvc=n,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.isNotEmbed=!0,this.audioData=null,this.widgetResolverAudioData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.forPreview=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var Tt=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 12px 12px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:40vh 8px 8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh}@media only screen and (max-width:1919px){.video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){.video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){.video-player[_ngcontent-%COMP%]{height:60vh}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.video-player[_ngcontent-%COMP%]{height:55vh;display:none}}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.audio-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}"]],data:{}});function Et(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverAudioData)}),null)}function Rt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","video-player-m"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Et)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.isFetchingDataComplete)}),null)}function Nt(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverAudioData)}),null)}function Ft(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,25,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(2,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(3,0,null,0,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(4,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(5,0,null,null,2,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Nt)),e.tb(7,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(8,0,null,null,18,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(9,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(10,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(11,7),e.Kb(12,2),(l()(),e.ub(13,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(14,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(15,1),e.Kb(16,2),(l()(),e.ub(17,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(18,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(19,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(20,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(21,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(22,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(23,0,null,null,3,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(24,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(25,2),e.Kb(26,2)],(function(l,n){var t=n.component;l(n,7,0,t.isFetchingDataComplete);var i=e.Pb(n,10,0,l(n,12,0,e.Gb(n.parent.parent,0),t.audioData,l(n,11,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,10,0,i,t.forPreview);var a=e.Pb(n,14,0,l(n,16,0,e.Gb(n.parent.parent,0),t.audioData,l(n,15,0,"identifier")));l(n,14,0,a,t.forPreview),l(n,18,0,t.forPreview),l(n,20,0,t.forPreview),l(n,22,0,t.forPreview);var u=e.Pb(n,24,0,l(n,26,0,e.Gb(n.parent.parent,0),t.audioData,l(n,25,0,"identifier","name")));l(n,24,0,u,t.forPreview)}),(function(l,n){l(n,1,0,"NoopAnimations"===e.Gb(n,2)._animationMode),l(n,9,0,e.Gb(n,10).id,e.Gb(n,10).widgetSafeStyle,e.Gb(n,10).className),l(n,13,0,e.Gb(n,14).id,e.Gb(n,14).widgetSafeStyle,e.Gb(n,14).className),l(n,17,0,e.Gb(n,18).id,e.Gb(n,18).widgetSafeStyle,e.Gb(n,18).className),l(n,19,0,e.Gb(n,20).id,e.Gb(n,20).widgetSafeStyle,e.Gb(n,20).className),l(n,21,0,e.Gb(n,22).id,e.Gb(n,22).widgetSafeStyle,e.Gb(n,22).className),l(n,23,0,e.Gb(n,24).id,e.Gb(n,24).widgetSafeStyle,e.Gb(n,24).className)}))}function Lt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,18,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,16,"div",[["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(4,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"]},null),e.Hb(5,7),e.Kb(6,2),(l()(),e.ub(7,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(8,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"]},null),e.Hb(9,1),e.Kb(10,2),(l()(),e.ub(11,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(12,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(13,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(14,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(15,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(16,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(17,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(18,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null)],(function(l,n){var t=n.component,i=e.Pb(n,4,0,l(n,6,0,e.Gb(n.parent.parent.parent,0),t.audioData,l(n,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,4,0,i);var a=e.Pb(n,8,0,l(n,10,0,e.Gb(n.parent.parent.parent,0),t.audioData,l(n,9,0,"identifier")));l(n,8,0,a),l(n,12,0,t.forPreview),l(n,14,0,t.forPreview),l(n,16,0,t.forPreview),l(n,18,0,t.forPreview)}),(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,3,0,e.Gb(n,4).id,e.Gb(n,4).widgetSafeStyle,e.Gb(n,4).className),l(n,7,0,e.Gb(n,8).id,e.Gb(n,8).widgetSafeStyle,e.Gb(n,8).className),l(n,11,0,e.Gb(n,12).id,e.Gb(n,12).widgetSafeStyle,e.Gb(n,12).className),l(n,13,0,e.Gb(n,14).id,e.Gb(n,14).widgetSafeStyle,e.Gb(n,14).className),l(n,15,0,e.Gb(n,16).id,e.Gb(n,16).widgetSafeStyle,e.Gb(n,16).className),l(n,17,0,e.Gb(n,18).id,e.Gb(n,18).widgetSafeStyle,e.Gb(n,18).className)}))}function Ut(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Lt)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.isScreenSizeSmall)}),null)}function Qt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Wt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function At(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function zt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[["class","padding-m"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,Qt)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Wt)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,At)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function Kt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,8,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,5,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,4,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Ft)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ut)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,zt)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,4,0,!t.isScreenSizeSmall),l(n,6,0,t.audioData),l(n,8,0,t.discussionForumWidget&&t.isRestricted)}),null)}function qt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Authors"]))],null,null)}function Ht(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Contacts"]))],null,null)}function $t(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,5,"div",[["class","author"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"ws-widget-user-image",[["class","author-image"]],null,null,null,It.b,It.a)),e.tb(2,638976,null,0,Ot.a,[ll.a],{email:[0,"email"]},null),(l()(),e.ub(3,0,null,null,2,"div",[["class","width-expand flex flex-middle flex-between"]],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,1,"h3",[["class","margin-remove"]],null,null,null,null,null)),(l()(),e.Ob(5,null,["",""]))],(function(l,n){l(n,2,0,n.context.$implicit.email)}),(function(l,n){l(n,5,0,n.context.$implicit.name)}))}function jt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,9,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.kb(16777216,null,0,1,null,qt)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,Ht)),e.tb(5,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(6,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Il.b,Il.a)),e.tb(7,49152,null,0,Ol.a,[],null,null),(l()(),e.kb(16777216,null,0,1,null,$t)),e.tb(9,278528,null,0,z.o,[e.P,e.M,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,"AUTHOR"===n.context.title),l(n,5,0,"CONTACT"===n.context.title),l(n,9,0,n.context.authors)}),(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,6,0,e.Gb(n,7).vertical?"vertical":"horizontal",e.Gb(n,7).vertical,!e.Gb(n,7).vertical,e.Gb(n,7).inset)}))}function Jt(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverAudioData)}),null)}function Vt(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,3,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"div",[["class","audio-player-embed"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Jt)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.isFetchingDataComplete)}),null)}function Bt(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,Rt)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Kt)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(0,[["creators",2]],null,0,null,jt)),(l()(),e.kb(16777216,null,null,1,null,Vt)),e.tb(7,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.isScreenSizeSmall&&t.audioData&&t.isNotEmbed),l(n,4,0,t.audioData&&t.isNotEmbed),l(n,7,0,!t.isNotEmbed)}),null)}t("aLkD");class Yt{constructor(l,n,t,e,i){this.activatedRoute=l,this.contentSvc=n,this.valueSvc=t,this.viewerSvc=e,this.accessControlSvc=i,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.isScreenSizeSmall=!1,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.forPreview=window.location.href.includes("/author/"),this.audioData=null,this.widgetResolverAudioData=null,this.discussionForumWidget=null}ngOnInit(){this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(l=>{this.isScreenSizeSmall=l}),this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(l=>{if(this.audioData=l,this.audioData&&this.formDiscussionForumWidget(this.audioData),this.widgetResolverAudioData=this.initWidgetResolverAudioData(),this.widgetResolverAudioData.widgetData.url=this.audioData?"/apis/authContent/"+encodeURIComponent(this.audioData.artifactUrl):"",this.widgetResolverAudioData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0,this.audioData.subTitles){let l="";this.audioData.subTitles.length>0&&this.audioData.subTitles[0]&&(l=this.audioData.subTitles[0].url.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(this.audioData.subTitles[0].url).pathname:"/apis/authContent/"+encodeURIComponent(this.audioData.subTitles[0].url)),this.widgetResolverAudioData.widgetData.subtitles=[{srclang:"",label:"",url:l}]}}):this.routeDataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){if(this.widgetResolverAudioData=null,this.audioData=l.content.data,this.audioData&&this.formDiscussionForumWidget(this.audioData),this.audioData&&this.audioData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.audioData.identifier)),this.widgetResolverAudioData=this.initWidgetResolverAudioData(),this.audioData&&this.audioData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.audioData.identifier):yield this.fetchContinueLearning(this.audioData.identifier,this.audioData.identifier)),this.forPreview&&(this.widgetResolverAudioData.widgetData.disableTelemetry=!0),l.content.data.subTitles[0]){let n="";n=l.content.data.subTitles[0].url.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(l.content.data.subTitles[0].url).pathname:"/apis/authContent/"+encodeURIComponent(l.content.data.subTitles[0].url),this.widgetResolverAudioData.widgetData.subtitles=[{srclang:"",label:"",url:n}]}this.widgetResolverAudioData.widgetData.url=this.audioData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.artifactUrl):this.audioData.artifactUrl:"",this.widgetResolverAudioData.widgetData.identifier=this.audioData?this.audioData.identifier:"",this.widgetResolverAudioData=JSON.parse(JSON.stringify(this.widgetResolverAudioData)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}initWidgetResolverAudioData(){return{widgetType:"player",widgetSubType:"playerAudio",widgetData:{disableTelemetry:!1,url:"",identifier:"",resumePoint:0,continueLearning:!0},widgetHostClass:"video-full"}}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}fetchContinueLearning(l,n){return V.__awaiter(this,void 0,void 0,(function*(){return new Promise(t=>{this.contentSvc.fetchContentHistory(l).subscribe(l=>{l&&l.identifier===n&&l.continueData&&l.continueData.progress&&this.widgetResolverAudioData&&(this.widgetResolverAudioData.widgetData.resumePoint=Number(l.continueData.progress)),t(!0)},()=>t(!0))})}))}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}}var Xt=t("bKtt"),Zt=e.sb({encapsulation:0,styles:[[""]],data:{}});function le(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-audio-container",[],null,null,null,Bt,Tt)),e.tb(1,114688,null,0,_t,[L.a,ll.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isFetchingDataComplete:[1,"isFetchingDataComplete"],isNotEmbed:[2,"isNotEmbed"],audioData:[3,"audioData"],widgetResolverAudioData:[4,"widgetResolverAudioData"],discussionForumWidget:[5,"discussionForumWidget"],forPreview:[6,"forPreview"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isScreenSizeSmall,t.isFetchingDataComplete,t.isNotEmbed,t.audioData,t.widgetResolverAudioData,t.discussionForumWidget,t.forPreview)}),null)}function ne(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-audio",[],null,null,null,le,Zt)),e.tb(1,245760,null,0,Yt,[L.a,Pn.a,nl.a,wn.a,Xt.a],null,null)],(function(l,n){l(n,1,0)}),null)}var te=e.qb("viewer-audio",Yt,ne,{},{},[]);class ee{constructor(){this.artifactUrl=null}ngOnInit(){}}var ie=e.sb({encapsulation:0,styles:[[".height-width-full[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function ae(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"audio",[["autoplay",""],["class","height-width-full"],["controls",""],["preload",""]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,0,"source",[["type","audio/mp4"]],[[8,"src",4]],null,null,null,null)),(l()(),e.ub(2,0,null,null,0,"source",[["type","audio/mpeg"]],[[8,"src",4]],null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Your browser does not support HTML5 audio."]))],null,(function(l,n){var t=n.component;l(n,1,0,t.artifactUrl),l(n,2,0,t.artifactUrl)}))}class ue{constructor(l,n){this.activatedRoute=l,this.configSvc=n,this.isScreenSizeSmall=!1,this.forPreview=!1,this.isFetchingDataComplete=!1,this.audioData=null,this.discussionForumWidget=null,this.defaultThumbnail="",this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var oe=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 12px 12px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:40vh 8px 8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh;background-repeat:no-repeat!important;background-position:center!important}@media only screen and (max-width:1919px){.video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){.video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){.video-player[_ngcontent-%COMP%]{height:60vh}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.video-player[_ngcontent-%COMP%]{height:55vh;display:none}}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background-repeat:no-repeat!important;background-position:center!important}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.height-width-full[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function re(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,5,"div",[["class","video-player-m ws-mat-primary-lite-background-important"]],null,null,null,null,null)),e.Lb(512,null,z.K,z.L,[e.k,e.s,e.D]),e.tb(2,278528,null,0,z.u,[z.K],{ngStyle:[0,"ngStyle"]},null),e.Jb(3,{background:0}),(l()(),e.ub(4,0,null,null,1,"viewer-plugin-audio-native",[],null,null,null,ae,ie)),e.tb(5,114688,null,0,ee,[],{artifactUrl:[0,"artifactUrl"]},null)],(function(l,n){var t=n.component,e=l(n,3,0,"url("+t.defaultThumbnail+")");l(n,2,0,e),l(n,5,0,null==t.audioData?null:t.audioData.artifactUrl)}),null)}function se(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,28,"div",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,27,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(2,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(3,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(4,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(5,0,null,null,5,"div",[["class","video-player ws-mat-primary-lite-background-important"],["id","fullScreenContainer"]],null,null,null,null,null)),e.Lb(512,null,z.K,z.L,[e.k,e.s,e.D]),e.tb(7,278528,null,0,z.u,[z.K],{ngStyle:[0,"ngStyle"]},null),e.Jb(8,{background:0}),(l()(),e.ub(9,0,null,null,1,"viewer-plugin-audio-native",[],null,null,null,ae,ie)),e.tb(10,114688,null,0,ee,[],{artifactUrl:[0,"artifactUrl"]},null),(l()(),e.ub(11,0,null,null,17,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(12,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(13,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(14,7),e.Kb(15,2),(l()(),e.ub(16,0,null,null,2,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(17,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(18,{identifier:0,isDisabled:1}),(l()(),e.ub(19,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(20,4308992,null,0,wl.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],isDisabled:[1,"isDisabled"],forPreview:[2,"forPreview"]},null),(l()(),e.ub(21,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(22,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(23,0,null,null,2,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(24,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(25,{contentId:0,contentName:1,contentType:2,mode:3,isDisabled:4}),(l()(),e.ub(26,0,null,null,2,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(27,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(28,{identifier:0,name:1,isDisabled:2})],(function(l,n){var t=n.component,i=l(n,8,0,"url("+t.defaultThumbnail+")");l(n,7,0,i),l(n,10,0,null==t.audioData?null:t.audioData.artifactUrl);var a=e.Pb(n,13,0,l(n,15,0,e.Gb(n.parent.parent,0),t.audioData,l(n,14,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,13,0,a,t.forPreview);var u=l(n,18,0,t.audioData.identifier,t.isPreviewMode);l(n,17,0,u,t.forPreview),l(n,20,0,t.audioData,t.isPreviewMode,t.forPreview),l(n,22,0,t.forPreview);var o=l(n,25,0,null==t.audioData?null:t.audioData.identifier,null==t.audioData?null:t.audioData.name,"Resource","dialog",t.isPreviewMode);l(n,24,0,o,t.forPreview);var r=l(n,28,0,t.audioData.identifier,t.audioData.name,t.isPreviewMode);l(n,27,0,r,t.forPreview)}),(function(l,n){l(n,1,0,"NoopAnimations"===e.Gb(n,2)._animationMode),l(n,12,0,e.Gb(n,13).id,e.Gb(n,13).widgetSafeStyle,e.Gb(n,13).className),l(n,16,0,e.Gb(n,17).id,e.Gb(n,17).widgetSafeStyle,e.Gb(n,17).className),l(n,19,0,e.Gb(n,20).id,e.Gb(n,20).widgetSafeStyle,e.Gb(n,20).className),l(n,21,0,e.Gb(n,22).id,e.Gb(n,22).widgetSafeStyle,e.Gb(n,22).className),l(n,23,0,e.Gb(n,24).id,e.Gb(n,24).widgetSafeStyle,e.Gb(n,24).className),l(n,26,0,e.Gb(n,27).id,e.Gb(n,27).widgetSafeStyle,e.Gb(n,27).className)}))}function ce(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,18,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,16,"div",[["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(4,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(l()(),e.ub(7,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(8,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"]},null),e.Hb(9,1),e.Kb(10,2),(l()(),e.ub(11,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(12,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(13,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(14,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(15,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(16,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(17,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(18,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null)],(function(l,n){var t=n.component,i=e.Pb(n,4,0,l(n,6,0,e.Gb(n.parent.parent.parent,0),t.audioData,l(n,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,4,0,i,t.forPreview);var a=e.Pb(n,8,0,l(n,10,0,e.Gb(n.parent.parent.parent,0),t.audioData,l(n,9,0,"identifier")));l(n,8,0,a),l(n,12,0,t.forPreview),l(n,14,0,t.forPreview),l(n,16,0,t.forPreview),l(n,18,0,t.forPreview)}),(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,3,0,e.Gb(n,4).id,e.Gb(n,4).widgetSafeStyle,e.Gb(n,4).className),l(n,7,0,e.Gb(n,8).id,e.Gb(n,8).widgetSafeStyle,e.Gb(n,8).className),l(n,11,0,e.Gb(n,12).id,e.Gb(n,12).widgetSafeStyle,e.Gb(n,12).className),l(n,13,0,e.Gb(n,14).id,e.Gb(n,14).widgetSafeStyle,e.Gb(n,14).className),l(n,15,0,e.Gb(n,16).id,e.Gb(n,16).widgetSafeStyle,e.Gb(n,16).className),l(n,17,0,e.Gb(n,18).id,e.Gb(n,18).widgetSafeStyle,e.Gb(n,18).className)}))}function de(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,ce)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.isScreenSizeSmall)}),null)}function be(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function he(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function me(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function pe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[["class","padding-m"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,be)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,he)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,me)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function ge(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,8,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,5,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,4,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,se)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,de)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,pe)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,4,0,!t.isScreenSizeSmall),l(n,6,0,t.audioData),l(n,8,0,t.discussionForumWidget&&t.isRestricted)}),null)}function fe(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,re)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,ge)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.isScreenSizeSmall&&t.audioData),l(n,4,0,t.audioData)}),null)}class ve{constructor(l,n,t,e,i){this.activatedRoute=l,this.contentSvc=n,this.valueSvc=t,this.viewerSvc=e,this.configSvc=i,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.audioData=null,this.discussionForumWidget=null,this.defaultThumbnail="",this.isPreviewMode=!1,this.forPreview=window.location.href.includes("/author/")}ngOnInit(){this.configSvc.instanceConfig&&(this.defaultThumbnail=this.configSvc.instanceConfig.logos.defaultContent),this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(l=>{this.isScreenSizeSmall=l}),this.routeDataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){this.audioData=l.content.data,this.audioData&&(this.formDiscussionForumWidget(this.audioData),this.audioData.artifactUrl=this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.artifactUrl):this.audioData.artifactUrl,this.audioData.appIcon?this.defaultThumbnail=this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.appIcon):this.audioData.appIcon:this.configSvc.instanceConfig&&(this.defaultThumbnail=this.configSvc.instanceConfig.logos.defaultContent)),this.audioData&&this.audioData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.audioData.identifier)),this.saveContinueLearning(this.audioData),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}saveContinueLearning(l){this.contentSvc.saveContinueLearning({contextPathId:l?l.identifier:"",resourceId:l?l.identifier:"",data:JSON.stringify({timestamp:Date.now()}),dateAccessed:Date.now()}).toPromise().catch()}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}}var we=e.sb({encapsulation:0,styles:[[""]],data:{}});function ye(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-audio-native-container",[],null,null,null,fe,oe)),e.tb(1,114688,null,0,ue,[L.a,ll.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],forPreview:[1,"forPreview"],isFetchingDataComplete:[2,"isFetchingDataComplete"],audioData:[3,"audioData"],discussionForumWidget:[4,"discussionForumWidget"],defaultThumbnail:[5,"defaultThumbnail"],isPreviewMode:[6,"isPreviewMode"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isScreenSizeSmall,t.forPreview,t.isFetchingDataComplete,t.audioData,t.discussionForumWidget,t.defaultThumbnail,t.isPreviewMode)}),null)}function Pe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-audio-native",[],null,null,null,ye,we)),e.tb(1,245760,null,0,ve,[L.a,Pn.a,nl.a,wn.a,ll.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Se=e.qb("viewer-audio-native",ve,Pe,{},{},[]),De=t("Mz6y"),Ce=t("QQfA"),Ge=t("MBfO"),Me=t("8P0U");let xe=(()=>{class l{constructor(){this.key="scormData"}set contentKey(l){this.key=l}get contentKey(){return this.key}setItem(l,n){window.localStorage.getItem(this.contentKey)||window.localStorage.setItem(this.contentKey,"{}");const t=window.localStorage.getItem(this.contentKey);if(t){const e=JSON.parse(t);e&&(e[l]=n,window.localStorage.setItem(this.contentKey,JSON.stringify(e)))}}getItem(l){let n=window.localStorage.getItem(this.contentKey);if(!n)return null;let t=JSON.parse(n);return t?t[l]:null}getAll(){let l=window.localStorage.getItem(this.contentKey);return l&&JSON.parse(l)||null}setAll(l){l&&window.localStorage.setItem(this.contentKey,JSON.stringify(l))}clearAll(){window.localStorage.removeItem(this.contentKey)}}return l.ngInjectableDef=e.Ub({factory:function(){return new l},token:l,providedIn:"root"}),l})();const Ie=[{0:{errorString:"No Error",diagnostic:"No error occurred, the previous API call was successful."},101:{errorString:"General Exception",diagnostic:"No specific error code exists to describe the error."},201:{errorString:"Invalid argument error",diagnostic:"An argument represents an invalid data model element or is otherwise incorrect."},202:{errorString:"Element cannot have children",diagnostic:"LMSGetValue was called with a data model element name that ends in “_children” for a data model element that does not support the “_children” suffix."},203:{errorString:"Element not an array. Cannot have count",diagnostic:"LMSGetValue was called with a data model element name that ends in “_count” for a data model element that does not support the “_count” suffix."},301:{errorString:"Not initialized",diagnostic:"An API call was made before the call to LMSInitialize."},401:{errorString:"Not implemented error",diagnostic:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{errorString:"Invalid set value, element is a keyword",diagnostic:"LMSSetValue was called on a data model element that represents a keyword (elements that end in '_children' and '_count')."},403:{errorString:"Element is read only",diagnostic:"LMSSetValue was called with a data model element that can only be read."},404:{errorString:"Element is write only",diagnostic:"LMSGetValue was called on a data model element that can only be written to."},405:{errorString:"Incorrect Data Type",diagnostic:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."}}];var Oe=t("IheW");let ke=(()=>{class l{constructor(l,n){this.store=l,this.http=n,this.id=""}set contentId(l){this.store.key=l,this.id=l}get contentId(){return this.id}LMSInitialize(){return this.store.contentKey=this.contentId,this.store.setItem("Initialized",!0),!0}LMSFinish(){if(!this._isInitialized())return this._setError(301),!1;let l=this.LMSCommit();return this.store.setItem("Initialized",!1),this.store.clearAll(),l}LMSGetValue(l){return this._isInitialized()?this.store.getItem(l)||(this._setError(201),""):(this._setError(301),!1)}LMSSetValue(l,n){return this._isInitialized()?(this.store.setItem(l,n),this.store.getItem(l)):(this._setError(301),!1)}LMSCommit(){let l=this.store.getAll();if(l){delete l.errors;let n=!1;return this.addData(l).subscribe(l=>{l&&(n=!0)},l=>{l&&this._setError(101)}),n}return!1}LMSGetLastError(){const l=JSON.parse(this.store.getItem("errors")||"[]");return l&&l.length>0?l.pop():""}LMSGetErrorString(l){let n=Ie[l];return n?n[l].errorString:""}LMSGetDiagnostic(l){let n=Ie[l];return n?n[l].diagnostic:""}_isInitialized(){return this.store.getItem("Initialized")}_setError(l){let n=this.store.getItem("errors");n||(n="[]");const t=JSON.parse(n);t&&"object"==typeof t&&t.push(l),this.store.setItem("errors",n)}loadDataAsync(){return this.http.get("/apis/protected/v8/scrom/get/"+this.contentId)}loadData(){this.http.get("/apis/protected/v8/scrom/get/"+this.contentId).subscribe(l=>{const n=l.result.data;this.store.setAll({"cmi.core.exit":n["cmi.core.exit"],"cmi.core.lesson_status":n["cmi.core.lesson_status"],"cmi.core.session_time":n["cmi.core.session_time"],"cmi.suspend_data":n["cmi.suspend_data"],Initialized:n.Initialized})},l=>{l&&this._setError(101)})}addData(l){return this.http.post("/apis/protected/v8/scrom/add/"+this.contentId,l,{headers:{"content-type":"application/json"}}),this.http.post("/apis/protected/v8/scrom/add/"+this.contentId,l)}}return l.ngInjectableDef=e.Ub({factory:function(){return new l(e.Vb(xe),e.Vb(Oe.c))},token:l,providedIn:"root"}),l})();class _e{constructor(l,n,t,e,i,a,u){this.domSanitizer=l,this.mobAppSvc=n,this.scormAdapterService=t,this.router=e,this.configSvc=i,this.snackBar=a,this.events=u,this.htmlContent=null,this.iframeUrl=null,this.iframeName="piframe_"+Date.now(),this.showIframeSupportWarning=!1,this.showIsLoadingMessage=!1,this.showUnBlockMessage=!1,this.pageFetchStatus="fetching",this.isUserInIntranet=!1,this.intranetUrlPatterns=[],this.isIntranetUrl=!1,this.progress=100,window.API=this.scormAdapterService,window.addEventListener("message",this.receiveMessage.bind(this))}ngOnInit(){this.htmlContent&&this.htmlContent.identifier&&(this.scormAdapterService.contentId=this.htmlContent.identifier,this.scormAdapterService.loadData())}ngOnDestroy(){window.removeEventListener("message",this.receiveMessage)}ngOnChanges(){this.isIntranetUrl=!1,this.progress=100,this.pageFetchStatus="fetching",this.showIframeSupportWarning=!1,this.intranetUrlPatterns=this.configSvc.instanceConfig?this.configSvc.instanceConfig.intranetIframeUrls:[];let l=this.htmlContent&&this.htmlContent.isIframeSupported;this.htmlContent&&this.htmlContent.artifactUrl?(this.htmlContent.artifactUrl.startsWith("http://")&&(this.htmlContent.isIframeSupported="No"),"boolean"!=typeof l&&(l=this.htmlContent.isIframeSupported.toLowerCase(),"no"===l?(this.showIframeSupportWarning=!0,setTimeout(()=>{this.openInNewTab()},3e3),setInterval(()=>{this.progress-=1},30)):this.showIframeSupportWarning="maybe"===l),this.intranetUrlPatterns&&this.intranetUrlPatterns.length&&this.intranetUrlPatterns.forEach(l=>{this.htmlContent&&this.htmlContent.artifactUrl&&this.htmlContent.artifactUrl.startsWith(l)&&(this.isIntranetUrl=!0)}),this.showIsLoadingMessage=!1,"No"!==this.htmlContent.isIframeSupported&&setTimeout(()=>{"fetching"===this.pageFetchStatus&&(this.showIsLoadingMessage=!0)},3e3),this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(`${this.htmlContent.artifactUrl}?timestamp='${(new Date).getTime()}`)):this.htmlContent&&""===this.htmlContent.artifactUrl?(this.iframeUrl=null,this.pageFetchStatus="artifactUrlMissing"):(this.iframeUrl=null,this.pageFetchStatus="error")}backToDetailsPage(){this.router.navigate([`/app/toc/${this.htmlContent?this.htmlContent.identifier:""}/overview`])}receiveMessage(l){this.raiseTelemetry(l.data?l.data:{event:l.message,id:l.id})}openInNewTab(){if(this.htmlContent)if(this.mobAppSvc&&this.mobAppSvc.isMobile)setTimeout(()=>{this.mobileOpenInNewTab.nativeElement.click()},0);else{const l=window.outerWidth,n=window.outerHeight;null===window.open(this.htmlContent.artifactUrl,"_blank",`toolbar=yes,\n             scrollbars=yes,\n             resizable=yes,\n             menubar=no,\n             location=no,\n             addressbar=no,\n             top=${15*n/100},\n             left=${2*l/100},\n             width=${65*l/100},\n             height=${70*n/100}`)&&this.snackBar.open("The pop up window has been blocked by your browser, please unblock to continue.","X")}}dismiss(){this.showIframeSupportWarning=!1,this.isIntranetUrl=!1}onIframeLoadOrError(l,n,t){"error"===l&&(this.pageFetchStatus=l),"load"===l&&n&&n.contentWindow&&(t&&n.onload&&n.onload(t),n.onload=l=>{l.target&&(this.pageFetchStatus="done",this.showIsLoadingMessage=!1)})}raiseTelemetry(l){this.htmlContent&&(console.log(this.htmlContent.identifier),this.events.raiseInteractTelemetry(l.event,"scrom",Object.assign({contentId:this.htmlContent.identifier},l)))}}var Te=t("dFDH"),Ee=e.sb({encapsulation:0,styles:[[".html-iframe[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.float-right[_ngcontent-%COMP%]{float:right}.hidden[_ngcontent-%COMP%]{display:none!important}.container-v2[_ngcontent-%COMP%]{height:100%}"]],data:{}});function Re(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Ob(-1,null,[" This content can only be viewed in Intranet. "]))],null,null)}function Ne(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Content may be required to be opened in a new window. If you are unable to view it, Please click on the Open in New Window Button else Dismiss "]))],null,null)}function Fe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"h2",[["class","mat-h2"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Re)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ne)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,(t.isIntranetUrl&&"Maybe"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||(null==t.htmlContent?null:t.htmlContent.isInIntranet)&&"Maybe"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported))&&!t.isUserInIntranet),l(n,4,0,"Maybe"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported))}),null)}function Le(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.Ob(-1,null,[" This content can only be viewed in Intranet."])),(l()(),e.ub(2,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Ue(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Content will open in a new window. If you are unable to view it, click on the button below."])),(l()(),e.ub(3,0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e.tb(4,671744,null,0,L.r,[L.o,L.a,z.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Jb(5,{tab:0}),(l()(),e.ub(6,16777216,null,null,3,"mat-icon",[["class","align-text-top ws-mat-primary-text mat-icon notranslate"],["matTooltip","How to Disable Pop-ups"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(l,n,t){var i=!0;return"longpress"===n&&(i=!1!==e.Gb(l,8).show()&&i),"keydown"===n&&(i=!1!==e.Gb(l,8)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==e.Gb(l,8)._handleTouchend()&&i),i}),K.b,K.a)),e.tb(7,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),e.tb(8,212992,null,0,De.d,[Ce.d,e.k,it.b,e.P,e.y,j.a,W.c,W.h,De.b,[2,El.b],[2,De.a],[2,Z.f]],{message:[0,"message"]},null),(l()(),e.Ob(-1,0,["help "]))],(function(l,n){var t=l(n,5,0,"popup");l(n,4,0,t,"/app/info/faq"),l(n,7,0),l(n,8,0,"How to Disable Pop-ups")}),(function(l,n){l(n,3,0,e.Gb(n,4).target,e.Gb(n,4).href),l(n,6,0,e.Gb(n,7).inline,"primary"!==e.Gb(n,7).color&&"accent"!==e.Gb(n,7).color&&"warn"!==e.Gb(n,7).color)}))}function Qe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"h2",[["class","mat-h2"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Le)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ue)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,(t.isIntranetUrl&&("No"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||!(null!=t.htmlContent&&t.htmlContent.isIframeSupported))||(null==t.htmlContent?null:t.htmlContent.isInIntranet)&&("No"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||!(null!=t.htmlContent&&t.htmlContent.isIframeSupported)))&&!t.isUserInIntranet),l(n,4,0,"No"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||!(null!=t.htmlContent&&t.htmlContent.isIframeSupported))}),null)}function We(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" This content can only be viewed in Intranet. "]))],null,null)}function Ae(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","determinate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,Ge.b,Ge.a)),e.tb(1,4374528,null,0,Me.b,[e.k,e.y,[2,A.a],[2,Me.a]],{value:[0,"value"],mode:[1,"mode"]},null)],(function(l,n){l(n,1,0,n.component.progress,"determinate")}),(function(l,n){l(n,0,0,"indeterminate"===e.Gb(n,1).mode||"query"===e.Gb(n,1).mode?null:e.Gb(n,1).value,e.Gb(n,1).mode,e.Gb(n,1)._isNoopAnimation)}))}function ze(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"button",[["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.dismiss()&&e),e}),U.d,U.b)),e.tb(1,180224,null,0,Q.b,[e.k,W.h,[2,A.a]],null,null),(l()(),e.Ob(-1,0,[" Dismiss "]))],null,(function(l,n){l(n,0,0,e.Gb(n,1).disabled||null,"NoopAnimations"===e.Gb(n,1)._animationMode)}))}function Ke(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,26,"mat-card",[["class","ws-mat-primary-lite-background-on-day margin-top-s mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,24,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(3,16384,null,0,Ml.d,[],null,null),(l()(),e.kb(16777216,null,null,1,null,Fe)),e.tb(5,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Qe)),e.tb(7,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,We)),e.tb(9,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(10,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Il.b,Il.a)),e.tb(11,49152,null,0,Ol.a,[],null,null),(l()(),e.kb(16777216,null,null,1,null,Ae)),e.tb(13,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(14,0,null,null,12,"div",[["class","flex flex-between padding-top-s"]],null,null,null,null,null)),(l()(),e.ub(15,0,[[1,0]],null,4,"a",[["mat-button",""],["target","_blank"],["type","button"]],[[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==e.Gb(l,18)._haltDisabledEvents(t)&&i),i}),U.c,U.a)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(17,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.tb(18,180224,[["mobileOpenInNewTab",4]],0,Q.a,[W.h,e.k,[2,A.a]],null,null),(l()(),e.Ob(-1,0,["Open in New Tab"])),(l()(),e.ub(20,0,null,null,4,"button",[["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openInNewTab()&&e),e}),U.d,U.b)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(22,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.tb(23,180224,null,0,Q.b,[e.k,W.h,[2,A.a]],{color:[0,"color"]},null),(l()(),e.Ob(-1,0,[" Open in New Window "])),(l()(),e.kb(16777216,null,null,1,null,ze)),e.tb(26,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,5,0,t.isIntranetUrl||(null==t.htmlContent?null:t.htmlContent.isInIntranet)||"Maybe"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)),l(n,7,0,t.isIntranetUrl||(null==t.htmlContent?null:t.htmlContent.isInIntranet)||"No"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||!(null!=t.htmlContent&&t.htmlContent.isIframeSupported)),l(n,9,0,t.isIntranetUrl&&"Yes"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||(null==t.htmlContent?null:t.htmlContent.isInIntranet)&&"Yes"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)),l(n,13,0,t.progress>0&&"no"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported.toLowerCase())),l(n,17,0,null!=t.mobAppSvc&&t.mobAppSvc.isMobile?"block":"hidden"),l(n,22,0,null!=t.mobAppSvc&&t.mobAppSvc.isMobile?"hidden":"block"),l(n,23,0,"primary"),l(n,26,0,"Maybe"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||t.isIntranetUrl&&"Yes"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported)||(null==t.htmlContent?null:t.htmlContent.isInIntranet)&&"Yes"===(null==t.htmlContent?null:t.htmlContent.isIframeSupported))}),(function(l,n){var t=n.component;l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,10,0,e.Gb(n,11).vertical?"vertical":"horizontal",e.Gb(n,11).vertical,!e.Gb(n,11).vertical,e.Gb(n,11).inset),l(n,15,0,null==t.htmlContent?null:t.htmlContent.artifactUrl,e.Gb(n,18).disabled?-1:e.Gb(n,18).tabIndex||0,e.Gb(n,18).disabled||null,e.Gb(n,18).disabled.toString(),"NoopAnimations"===e.Gb(n,18)._animationMode),l(n,20,0,e.Gb(n,23).disabled||null,"NoopAnimations"===e.Gb(n,23)._animationMode)}))}function qe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[["class","text-center mat-primary-text margin-top-m load"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Please wait! Content requested is loading\n"]))],null,null)}function He(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Error loading page. Please try refreshing page. "]))],null,null)}function $e(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" There is nothing to play. "])),(l()(),e.ub(2,0,null,null,1,"a",[["class","cursor-pointer ws-mat-primary-text"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.backToDetailsPage()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Click here"])),(l()(),e.Ob(-1,null,[" to go to details page. "]))],null,null)}function je(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"div",[["class","margin-top-m text-center"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,He)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,$e)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,"error"===t.pageFetchStatus),l(n,4,0,"artifactUrlMissing"===t.pageFetchStatus)}),null)}function Je(l){return e.Qb(0,[e.Mb(671088640,1,{mobileOpenInNewTab:0}),(l()(),e.kb(16777216,null,null,1,null,Ke)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,qe)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,je)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(7,0,null,null,1,"div",[["class","container-v2"]],null,null,null,null,null)),(l()(),e.ub(8,0,[["iframeElem",1]],null,0,"iframe",[["allow","fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; microphone; camera;"],["class","html-iframe"],["title"," HTML Content Viewer"]],[[8,"src",5],[8,"name",0]],[[null,"load"],[null,"error"]],(function(l,n,t){var i=!0,a=l.component;return"load"===n&&(i=!1!==a.onIframeLoadOrError("load",e.Gb(l,8),t)&&i),"error"===n&&(i=!1!==a.onIframeLoadOrError("error")&&i),i}),null,null))],(function(l,n){var t=n.component;l(n,2,0,t.showIframeSupportWarning||t.isIntranetUrl||(null==t.htmlContent?null:t.htmlContent.isInIntranet)),l(n,4,0,t.showIsLoadingMessage),l(n,6,0,"done"!==t.pageFetchStatus)}),(function(l,n){var t=n.component;l(n,8,0,t.iframeUrl,t.iframeName)}))}class Ve{constructor(l,n,t,e,i){this.activatedRoute=l,this.domSanitizer=n,this.pipeLimitTo=t,this.valueSvc=e,this.configSvc=i,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.htmlData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.forPreview=!1,this.isTypeOfCollection=!1,this.learningObjective="",this.description="",this.isLtMedium=!1,this.isScormContent=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.valueSvc.isLtMedium$.subscribe(l=>{this.isLtMedium=l})}ngOnChanges(l){for(const n in l)if("htmlData"===n&&(this.isScormContent=!(!this.htmlData||!this.htmlData.artifactUrl.startsWith("https://scorm.")),this.htmlData&&this.htmlData.learningObjective&&(this.learningObjective=this.domSanitizer.bypassSecurityTrustHtml(this.htmlData.learningObjective)),this.htmlData&&this.htmlData.description)){const l=this.pipeLimitTo.transform(this.htmlData.description,450);this.description=this.domSanitizer.bypassSecurityTrustHtml(l)}}}var Be=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.full-height-width-iframe[_ngcontent-%COMP%]{height:100vh;width:100vw}"]],data:{}});function Ye(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Xe(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Ze(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function li(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[["class","padding-m"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,Ye)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Xe)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ze)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function ni(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,42,"div",[["class","padding-dynamic"]],null,null,null,null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,z.n,[z.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"padding-remove-left":0,"padding-remove-right":1}),(l()(),e.ub(4,0,null,null,36,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(5,0,null,null,35,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.ub(6,0,null,null,34,"div",[],null,null,null,null,null)),(l()(),e.ub(7,0,null,null,33,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(9,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.Jb(10,{"padding-remove":0}),e.tb(11,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(12,0,null,0,28,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(13,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(14,0,null,null,5,"div",[["id","fullScreenContainer"]],null,null,null,null,null)),e.Lb(512,null,z.I,z.J,[e.r,e.s,e.k,e.D]),e.tb(16,278528,null,0,z.n,[z.I],{ngClass:[0,"ngClass"]},null),e.Jb(17,{"video-player":0}),(l()(),e.ub(18,0,null,null,1,"viewer-plugin-html",[],null,null,null,Je,Ee)),e.tb(19,770048,null,0,_e,[Z.b,Gt.a,ke,L.o,ll.a,Te.c,fl.a],{htmlContent:[0,"htmlContent"]},null),(l()(),e.ub(20,0,null,null,20,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(21,0,null,null,2,"ws-widget-btn-fullscreen",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,k.c,k.b)),e.tb(22,4440064,null,0,J.a,[],{widgetType:[0,"widgetType"],widgetSubType:[1,"widgetSubType"],widgetData:[2,"widgetData"]},null),e.Jb(23,{fsContainer:0}),(l()(),e.ub(24,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(25,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(26,7),e.Kb(27,2),(l()(),e.ub(28,0,null,null,2,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(29,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(30,{identifier:0,isDisabled:1}),(l()(),e.ub(31,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(32,4308992,null,0,wl.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],isDisabled:[1,"isDisabled"],forPreview:[2,"forPreview"]},null),(l()(),e.ub(33,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(34,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(35,0,null,null,2,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(36,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(37,{contentId:0,contentName:1,contentType:2,mode:3,isDisabled:4}),(l()(),e.ub(38,0,null,null,2,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(39,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(40,{identifier:0,name:1,isDisabled:2}),(l()(),e.kb(16777216,null,null,1,null,li)),e.tb(42,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component,i=l(n,3,0,t.isScormContent&&t.isLtMedium,t.isScormContent&&t.isLtMedium);l(n,2,0,"padding-dynamic",i);var a=l(n,10,0,t.isLtMedium);l(n,9,0,a);var u=l(n,17,0,"no"!=(null==t.htmlData?null:t.htmlData.isIframeSupported.toLowerCase()));l(n,16,0,u),l(n,19,0,t.htmlData);var o=l(n,23,0,t.htmlContainer);l(n,22,0,"actionButton","actionButtonFullscreen",o);var r=e.Pb(n,25,0,l(n,27,0,e.Gb(n.parent,0),t.htmlData,l(n,26,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,25,0,r,t.forPreview);var s=l(n,30,0,t.htmlData.identifier,t.isPreviewMode);l(n,29,0,s,t.forPreview),l(n,32,0,t.htmlData,t.isPreviewMode,t.forPreview),l(n,34,0,t.forPreview);var c=l(n,37,0,null==t.htmlData?null:t.htmlData.identifier,null==t.htmlData?null:t.htmlData.name,"Resource","dialog",t.isPreviewMode);l(n,36,0,c,t.forPreview);var d=l(n,40,0,t.htmlData.identifier,t.htmlData.name,t.isPreviewMode);l(n,39,0,d,t.forPreview),l(n,42,0,t.discussionForumWidget&&t.isRestricted)}),(function(l,n){l(n,7,0,"NoopAnimations"===e.Gb(n,11)._animationMode),l(n,21,0,e.Gb(n,22).id,e.Gb(n,22).widgetSafeStyle,e.Gb(n,22).className),l(n,24,0,e.Gb(n,25).id,e.Gb(n,25).widgetSafeStyle,e.Gb(n,25).className),l(n,28,0,e.Gb(n,29).id,e.Gb(n,29).widgetSafeStyle,e.Gb(n,29).className),l(n,31,0,e.Gb(n,32).id,e.Gb(n,32).widgetSafeStyle,e.Gb(n,32).className),l(n,33,0,e.Gb(n,34).id,e.Gb(n,34).widgetSafeStyle,e.Gb(n,34).className),l(n,35,0,e.Gb(n,36).id,e.Gb(n,36).widgetSafeStyle,e.Gb(n,36).className),l(n,38,0,e.Gb(n,39).id,e.Gb(n,39).widgetSafeStyle,e.Gb(n,39).className)}))}function ti(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,1,"viewer-plugin-html",[],null,null,null,Je,Ee)),e.tb(2,770048,null,0,_e,[Z.b,Gt.a,ke,L.o,ll.a,Te.c,fl.a],{htmlContent:[0,"htmlContent"]},null)],(function(l,n){l(n,2,0,n.component.htmlData)}),null)}function ei(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,ni)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,ti)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.htmlData&&t.isNotEmbed),l(n,4,0,!t.isNotEmbed)}),null)}var ii=t("xgIS"),ai=t("pLZG");class ui{constructor(l,n,t,e,i,a,u){this.activatedRoute=l,this.contentSvc=n,this.viewerSvc=t,this.respondSvc=e,this.configSvc=i,this.eventSvc=a,this.accessControlSvc=u,this.routeDataSubscription=null,this.responseSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.htmlData=null,this.oldData=null,this.alreadyRaised=!1,this.subApp=!1,this.discussionForumWidget=null,this.uuid=null,this.realTimeProgressRequest={content_type:"Resource",current:["0"],max_size:0,mime_type:gn.h.EMimeTypes.HTML,user_id_type:"uuid"},this.hasFiredRealTimeProgress=!1,this.isPreviewMode=!1}ngOnInit(){this.uuid=this.configSvc.userProfile?this.configSvc.userProfile.userId:"",this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),"true"!==this.activatedRoute.snapshot.queryParamMap.get("preview")||this.accessControlSvc.authoringConfig.newDesign?this.routeDataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){l.content.data.artifactUrl=l.content.data.artifactUrl.indexOf("ScormCoursePlayer")>-1?`${l.content.data.artifactUrl.replace(/%20/g,"")}&Param1=${this.uuid}`:l.content.data.artifactUrl.replace(/%20/g,"");const n=l.content.data;this.alreadyRaised&&this.oldData&&(this.raiseEvent(B.g.EnumTelemetrySubType.Unloaded,this.oldData),this.hasFiredRealTimeProgress||(this.fireRealTimeProgress(),this.realTimeProgressTimer&&clearTimeout(this.realTimeProgressTimer)),this.subApp=!1),n&&this.formDiscussionForumWidget(n),n&&n.artifactUrl.indexOf("content-store")>=0?(yield this.setS3Cookie(n.identifier),this.htmlData=n):this.htmlData=n,this.raiseRealTimeProgress(),this.htmlData&&(this.oldData=this.htmlData,this.alreadyRaised=!0,this.raiseEvent(B.g.EnumTelemetrySubType.Loaded,this.htmlData),this.responseSubscription=yield Object(ii.a)(window,"message").pipe(Object(ai.a)(l=>Boolean(l)&&Boolean(l.data)&&Boolean(l.source&&"function"==typeof l.source.postMessage))).subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){const n=l.source;if(l.data.requestId&&this.htmlData)switch(l.data.requestId){case"LOADED":yield this.respondSvc.loadedRespond(n,l.data.subApplicationName,this.htmlData.identifier),"RBCP"===l.data.subApplicationName&&(this.subApp=!0);break;case"CONTINUE_LEARNING":yield this.respondSvc.continueLearningRespond(this.htmlData.identifier,l.data.data.continueLearning);break;case"TELEMETRY":yield this.respondSvc.telemetryEvents(l.data)}})))),this.isFetchingDataComplete=!0})),()=>{}):(this.isPreviewMode=!0,this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){l.artifactUrl=(l.artifactUrl.startsWith("https://")||l.artifactUrl.startsWith("http://")?l.artifactUrl:"https://"+l.artifactUrl).replace(/ /gi,"").replace(/%20/gi,"").replace(/\n/gi,""),this.accessControlSvc.hasAccess(l,!0)&&(l&&l.artifactUrl.indexOf("content-store")>=0?(yield this.setS3Cookie(l.identifier),this.htmlData=l):this.htmlData=l),this.htmlData&&(this.formDiscussionForumWidget(this.htmlData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0))}))))}saveContinueLearning(l){return V.__awaiter(this,void 0,void 0,(function*(){return new Promise(n=>V.__awaiter(this,void 0,void 0,(function*(){if(this.activatedRoute.snapshot.queryParams.collectionType&&l&&"playlist"===this.activatedRoute.snapshot.queryParams.collectionType.toLowerCase()){const t={contextPathId:this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:l?l.identifier:"",resourceId:l.identifier,data:JSON.stringify({timestamp:Date.now(),contextFullPath:[this.activatedRoute.snapshot.queryParams.collectionId,l.identifier]}),dateAccessed:Date.now(),contextType:"playlist"};this.contentSvc.saveContinueLearning(t).toPromise().catch().finally(()=>{n(!0)})}else{const t={contextPathId:this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:l?l.identifier:"",resourceId:l?l.identifier:"",data:JSON.stringify({timestamp:Date.now()}),dateAccessed:Date.now()};this.contentSvc.saveContinueLearning(t).toPromise().catch().finally(()=>{n(!0)})}})))}))}ngOnDestroy(){return V.__awaiter(this,void 0,void 0,(function*(){this.htmlData&&(this.subApp&&!this.activatedRoute.snapshot.queryParams.collectionId||(yield this.saveContinueLearning(this.htmlData))),this.htmlData&&this.raiseEvent(B.g.EnumTelemetrySubType.Unloaded,this.htmlData),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.responseSubscription&&(this.respondSvc.unsubscribeResponse(),this.responseSubscription.unsubscribe()),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe(),this.hasFiredRealTimeProgress||this.forPreview||(this.fireRealTimeProgress(),this.realTimeProgressTimer&&clearTimeout(this.realTimeProgressTimer))}))}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}raiseEvent(l,n){this.forPreview||this.eventSvc.dispatchEvent({eventType:B.g.WsEventType.Telemetry,eventLogLevel:B.g.WsEventLogLevel.Info,from:"html",to:"",data:{state:l,type:B.g.WsTimeSpentType.Player,mode:B.g.WsTimeSpentMode.Play,courseId:null,content:n,identifier:n?n.identifier:null,isCompleted:!0,mimeType:gn.h.EMimeTypes.HTML,isIdeal:!1,url:n?n.artifactUrl:null}})}raiseRealTimeProgress(){this.forPreview||(this.realTimeProgressRequest=Object.assign({},this.realTimeProgressRequest,{current:["1"],max_size:1}),this.realTimeProgressTimer&&clearTimeout(this.realTimeProgressTimer),this.hasFiredRealTimeProgress=!1,this.realTimeProgressTimer=setTimeout(()=>{this.hasFiredRealTimeProgress=!0,this.fireRealTimeProgress()},12e4))}fireRealTimeProgress(){if(!this.forPreview){if(this.htmlData){if(this.htmlData.contentType===gn.h.EContentTypes.COURSE&&this.htmlData.isExternal)return;if(this.htmlData.resourceType&&"certification"===this.htmlData.resourceType.toLowerCase())return}"yes"===(this.htmlData||{}).isIframeSupported.toLowerCase()&&(this.htmlData&&"Cross Knowledge"===this.htmlData.sourceName||(this.realTimeProgressRequest.content_type=this.htmlData?this.htmlData.contentType:"",this.viewerSvc.realTimeProgressUpdate(this.htmlData?this.htmlData.identifier:"",this.realTimeProgressRequest)))}}}var oi=t("BaE1"),ri=e.sb({encapsulation:0,styles:[[""]],data:{}});function si(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-html-container",[],null,null,null,ei,Be)),e.tb(1,638976,null,0,Ve,[L.a,Z.b,mn.a,nl.a,ll.a],{isNotEmbed:[0,"isNotEmbed"],isFetchingDataComplete:[1,"isFetchingDataComplete"],htmlData:[2,"htmlData"],discussionForumWidget:[3,"discussionForumWidget"],isPreviewMode:[4,"isPreviewMode"],forPreview:[5,"forPreview"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isNotEmbed,t.isFetchingDataComplete,t.htmlData,t.discussionForumWidget,t.isPreviewMode,t.forPreview)}),null)}function ci(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-html",[],null,null,null,si,ri)),e.tb(1,245760,null,0,ui,[L.a,Pn.a,wn.a,oi.a,ll.a,fl.a,Xt.a],null,null)],(function(l,n){l(n,1,0)}),null)}var di=e.qb("viewer-html",ui,ci,{},{},[]),bi=t("0YXd"),hi=t("cDPQ");class mi{constructor(l,n,t){this.activatedRoute=l,this.http=n,this.viewerSvc=t,this.routeDataSubscription=null,this.isFetchingDataComplete=!1,this.isErrorOccured=!1,this.channelData=null,this.forPreview=window.location.href.includes("/author/")}ngOnInit(){this.routeDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){this.channelData=l,this.channelManifest=yield this.transformHandsOn(this.channelData),this.channelData&&this.channelManifest?(this.isFetchingDataComplete=!0,this.channelManifest=this.viewerSvc.replaceToAuthUrl(this.channelManifest)):this.isErrorOccured=!0})),()=>{this.isErrorOccured=!0})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}transformHandsOn(l){return V.__awaiter(this,void 0,void 0,(function*(){let l=null;return this.channelData&&this.channelData.artifactUrl&&(l=yield this.http.get(this.viewerSvc.getAuthoringUrl(this.channelData.artifactUrl)).toPromise().catch(l=>{})),l}))}}var pi=e.sb({encapsulation:0,styles:[[""]],data:{}});function gi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"ws-widget-page",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,E.c,E.b)),e.tb(1,4440064,null,0,bi.a,[L.a,Fl.a,ll.a,nl.a,fl.a,hi.a,Z.b,oi.a],{widgetData:[0,"widgetData"]},null)],(function(l,n){l(n,1,0,n.component.channelManifest)}),(function(l,n){l(n,0,0,e.Gb(n,1).id,e.Gb(n,1).widgetSafeStyle,e.Gb(n,1).className)}))}function fi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"h2",[["class","mat-error margin-top-m text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Error fetching page JSON\n"]))],null,null)}function vi(l){return e.Qb(0,[(l()(),e.kb(16777216,null,null,1,null,gi)),e.tb(1,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,fi)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isFetchingDataComplete&&!t.isErrorOccured),l(n,3,0,t.isErrorOccured)}),null)}function wi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-channel",[],null,null,null,vi,pi)),e.tb(1,245760,null,0,mi,[L.a,Oe.c,wn.a],null,null)],(function(l,n){l(n,1,0)}),null)}var yi=e.qb("viewer-channel",mi,wi,{},{},[]);class Pi{constructor(l,n){this.activatedRoute=l,this.configSvc=n,this.isFetchingDataComplete=!1,this.pdfData=null,this.forPreview=!1,this.widgetResolverPdfData={widgetType:"player",widgetSubType:"playerPDF",widgetData:{pdfUrl:"",identifier:"",disableTelemetry:!1,hideControls:!0}},this.isPreviewMode=!1,this.discussionForumWidget=null,this.isTypeOfCollection=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var Si=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:100%;overflow:auto}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}"]],data:{}});function Di(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverPdfData)}),null)}function Ci(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Gi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Mi(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function xi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[["class","padding-m"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,Ci)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Gi)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Mi)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function Ii(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,30,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,27,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,26,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,24,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(5,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(6,0,null,0,22,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(8,0,null,null,2,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Di)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(11,0,null,null,17,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(12,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(13,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(14,7),e.Kb(15,2),(l()(),e.ub(16,0,null,null,2,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(17,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(18,{identifier:0,isDisabled:1}),(l()(),e.ub(19,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(20,4308992,null,0,wl.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],isDisabled:[1,"isDisabled"],forPreview:[2,"forPreview"]},null),(l()(),e.ub(21,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(22,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(23,0,null,null,2,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(24,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(25,{contentId:0,contentName:1,contentType:2,mode:3,isDisabled:4}),(l()(),e.ub(26,0,null,null,2,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(27,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Jb(28,{identifier:0,name:1,isDisabled:2}),(l()(),e.kb(16777216,null,null,1,null,xi)),e.tb(30,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,10,0,t.isFetchingDataComplete);var i=e.Pb(n,13,0,l(n,15,0,e.Gb(n.parent,0),t.pdfData,l(n,14,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,13,0,i,t.forPreview);var a=l(n,18,0,t.pdfData.identifier,t.isPreviewMode);l(n,17,0,a,t.forPreview),l(n,20,0,t.pdfData,t.isPreviewMode,t.forPreview),l(n,22,0,t.forPreview);var u=l(n,25,0,null==t.pdfData?null:t.pdfData.identifier,null==t.pdfData?null:t.pdfData.name,"Resource","dialog",t.isPreviewMode);l(n,24,0,u,t.forPreview);var o=l(n,28,0,t.pdfData.identifier,t.pdfData.name,t.isPreviewMode);l(n,27,0,o,t.forPreview),l(n,30,0,t.discussionForumWidget&&t.isRestricted)}),(function(l,n){l(n,4,0,"NoopAnimations"===e.Gb(n,5)._animationMode),l(n,12,0,e.Gb(n,13).id,e.Gb(n,13).widgetSafeStyle,e.Gb(n,13).className),l(n,16,0,e.Gb(n,17).id,e.Gb(n,17).widgetSafeStyle,e.Gb(n,17).className),l(n,19,0,e.Gb(n,20).id,e.Gb(n,20).widgetSafeStyle,e.Gb(n,20).className),l(n,21,0,e.Gb(n,22).id,e.Gb(n,22).widgetSafeStyle,e.Gb(n,22).className),l(n,23,0,e.Gb(n,24).id,e.Gb(n,24).widgetSafeStyle,e.Gb(n,24).className),l(n,26,0,e.Gb(n,27).id,e.Gb(n,27).widgetSafeStyle,e.Gb(n,27).className)}))}function Oi(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,Ii)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.pdfData)}),null)}class ki{constructor(l,n,t,e,i){this.activatedRoute=l,this.contentSvc=n,this.viewerSvc=t,this.eventSvc=e,this.accessControlSvc=i,this.dataSubscription=null,this.viewerDataSubscription=null,this.telemetryIntervalSubscription=null,this.isFetchingDataComplete=!1,this.pdfData=null,this.oldData=null,this.alreadyRaised=!1,this.widgetResolverPdfData={widgetType:"player",widgetSubType:"playerPDF",widgetData:{pdfUrl:"",identifier:"",disableTelemetry:!1,hideControls:!0}},this.isPreviewMode=!1,this.forPreview=window.location.href.includes("/author/"),this.discussionForumWidget=null}ngOnInit(){this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?(this.isPreviewMode=!0,this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(l=>{this.pdfData=l,this.pdfData&&(this.formDiscussionForumWidget(this.pdfData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0)),this.widgetResolverPdfData.widgetData.pdfUrl=this.pdfData?"/apis/authContent/"+encodeURIComponent(this.pdfData.artifactUrl):"",this.widgetResolverPdfData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0})):this.dataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){this.pdfData=l.content.data,this.alreadyRaised&&this.oldData&&this.raiseEvent(B.g.EnumTelemetrySubType.Unloaded,this.oldData),this.pdfData&&this.formDiscussionForumWidget(this.pdfData),this.pdfData&&this.pdfData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.pdfData.identifier)),this.widgetResolverPdfData.widgetData.resumePage=1,this.pdfData&&this.pdfData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.pdfData.identifier):yield this.fetchContinueLearning(this.pdfData.identifier,this.pdfData.identifier)),this.widgetResolverPdfData.widgetData.pdfUrl=this.pdfData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.pdfData.artifactUrl):this.pdfData.artifactUrl:"",this.widgetResolverPdfData.widgetData.identifier=this.pdfData&&this.pdfData.identifier,this.widgetResolverPdfData=JSON.parse(JSON.stringify(this.widgetResolverPdfData)),this.pdfData&&(this.oldData=this.pdfData,this.alreadyRaised=!0,this.raiseEvent(B.g.EnumTelemetrySubType.Loaded,this.pdfData)),this.isFetchingDataComplete=!0})),()=>{})}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}raiseEvent(l,n){this.forPreview||this.eventSvc.dispatchEvent({eventType:B.g.WsEventType.Telemetry,eventLogLevel:B.g.WsEventLogLevel.Info,from:"pdf",to:"",data:{state:l,type:B.g.WsTimeSpentType.Player,mode:B.g.WsTimeSpentMode.Play,content:n,identifier:n?n.identifier:null,mimeType:gn.h.EMimeTypes.PDF,url:n?n.artifactUrl:null}})}fetchContinueLearning(l,n){return V.__awaiter(this,void 0,void 0,(function*(){return new Promise(t=>{this.contentSvc.fetchContentHistory(l).subscribe(l=>{l&&l.identifier===n&&l.continueData&&l.continueData.progress&&(this.widgetResolverPdfData.widgetData.resumePage=Number(l.continueData.progress)),t(!0)},()=>t(!0))})}))}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}ngOnDestroy(){this.pdfData&&this.raiseEvent(B.g.EnumTelemetrySubType.Unloaded,this.pdfData),this.dataSubscription&&this.dataSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe(),this.telemetryIntervalSubscription&&this.telemetryIntervalSubscription.unsubscribe()}}var _i=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ti(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-pdf-container",[],null,null,null,Oi,Si)),e.tb(1,114688,null,0,Pi,[L.a,ll.a],{isFetchingDataComplete:[0,"isFetchingDataComplete"],pdfData:[1,"pdfData"],forPreview:[2,"forPreview"],widgetResolverPdfData:[3,"widgetResolverPdfData"],isPreviewMode:[4,"isPreviewMode"],discussionForumWidget:[5,"discussionForumWidget"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isFetchingDataComplete,t.pdfData,t.forPreview,t.widgetResolverPdfData,t.isPreviewMode,t.discussionForumWidget)}),null)}function Ei(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-pdf",[],null,null,null,Ti,_i)),e.tb(1,245760,null,0,ki,[L.a,Pn.a,wn.a,fl.a,Xt.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Ri=e.qb("viewer-pdf",ki,Ei,{},{},[]);class Ni{constructor(l,n){this.activatedRoute=l,this.configSvc=n,this.isScreenSizeSmall=!1,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.forPreview=!1,this.videoData=null,this.widgetResolverVideoData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var Fi=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:40vh 8px 8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh}@media only screen and (max-width:1919px){.video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){.video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){.video-player[_ngcontent-%COMP%]{height:60vh}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.video-player[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}.video-player-mobile[_ngcontent-%COMP%]{padding:0}.info-section[_ngcontent-%COMP%]{width:100%}}.vidoe-title[_ngcontent-%COMP%]{width:100%}.video-discussion-forum-in[_ngcontent-%COMP%]{display:block;overflow:hidden}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.video-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}"]],data:{}});function Li(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverVideoData)}),null)}function Ui(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,21,null,null,null,null,null,null,null)),(l()(),e.ub(1,0,null,null,20,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(3,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(4,8),e.Kb(5,2),(l()(),e.ub(6,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(7,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(8,1),e.Kb(9,2),(l()(),e.ub(10,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(11,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(12,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(13,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(14,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(15,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(16,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(17,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(18,0,null,null,3,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(19,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(20,2),e.Kb(21,2)],(function(l,n){var t=n.component,i=e.Pb(n,3,0,l(n,5,0,e.Gb(n.parent.parent,0),t.videoData,l(n,4,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","resumePoint","artifactUrl")));l(n,3,0,i,t.forPreview);var a=e.Pb(n,7,0,l(n,9,0,e.Gb(n.parent.parent,0),t.videoData,l(n,8,0,"identifier")));l(n,7,0,a,t.forPreview),l(n,11,0,t.forPreview),l(n,13,0,t.forPreview),l(n,15,0,t.forPreview),l(n,17,0,t.forPreview);var u=e.Pb(n,19,0,l(n,21,0,e.Gb(n.parent.parent,0),t.videoData,l(n,20,0,"identifier","name")));l(n,19,0,u,t.forPreview)}),(function(l,n){l(n,2,0,e.Gb(n,3).id,e.Gb(n,3).widgetSafeStyle,e.Gb(n,3).className),l(n,6,0,e.Gb(n,7).id,e.Gb(n,7).widgetSafeStyle,e.Gb(n,7).className),l(n,10,0,e.Gb(n,11).id,e.Gb(n,11).widgetSafeStyle,e.Gb(n,11).className),l(n,12,0,e.Gb(n,13).id,e.Gb(n,13).widgetSafeStyle,e.Gb(n,13).className),l(n,14,0,e.Gb(n,15).id,e.Gb(n,15).widgetSafeStyle,e.Gb(n,15).className),l(n,16,0,e.Gb(n,17).id,e.Gb(n,17).widgetSafeStyle,e.Gb(n,17).className),l(n,18,0,e.Gb(n,19).id,e.Gb(n,19).widgetSafeStyle,e.Gb(n,19).className)}))}function Qi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,19,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,17,"div",[["class","flex flex-between flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(5,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(6,7),e.Kb(7,2),(l()(),e.ub(8,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(9,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(10,1),e.Kb(11,2),(l()(),e.ub(12,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(13,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(14,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(15,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(16,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(17,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(18,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(19,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null)],(function(l,n){var t=n.component,i=e.Pb(n,5,0,l(n,7,0,e.Gb(n.parent.parent.parent,0),t.videoData,l(n,6,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,5,0,i,t.forPreview);var a=e.Pb(n,9,0,l(n,11,0,e.Gb(n.parent.parent.parent,0),t.videoData,l(n,10,0,"identifier")));l(n,9,0,a,t.forPreview),l(n,13,0,t.forPreview),l(n,15,0,t.forPreview),l(n,17,0,t.forPreview),l(n,19,0,t.forPreview)}),(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,4,0,e.Gb(n,5).id,e.Gb(n,5).widgetSafeStyle,e.Gb(n,5).className),l(n,8,0,e.Gb(n,9).id,e.Gb(n,9).widgetSafeStyle,e.Gb(n,9).className),l(n,12,0,e.Gb(n,13).id,e.Gb(n,13).widgetSafeStyle,e.Gb(n,13).className),l(n,14,0,e.Gb(n,15).id,e.Gb(n,15).widgetSafeStyle,e.Gb(n,15).className),l(n,16,0,e.Gb(n,17).id,e.Gb(n,17).widgetSafeStyle,e.Gb(n,17).className),l(n,18,0,e.Gb(n,19).id,e.Gb(n,19).widgetSafeStyle,e.Gb(n,19).className)}))}function Wi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Qi)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.isScreenSizeSmall)}),null)}function Ai(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function zi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function Ki(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function qi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","padding-m video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,Ai)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,zi)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ki)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function Hi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,16,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,13,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,12,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,8,"mat-card",[["class","video-player-mobile mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(5,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(6,0,null,0,6,"mat-card-content",[["class","video-player-mobile-container mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(8,0,null,null,2,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Li)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ui)),e.tb(12,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Wi)),e.tb(14,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,qi)),e.tb(16,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,10,0,t.isFetchingDataComplete),l(n,12,0,!t.isScreenSizeSmall),l(n,14,0,t.videoData),l(n,16,0,t.discussionForumWidget&&t.isRestricted)}),(function(l,n){l(n,4,0,"NoopAnimations"===e.Gb(n,5)._animationMode)}))}function $i(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverVideoData)}),null)}function ji(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,3,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"div",[["class","video-player-embed"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,$i)),e.tb(3,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.isFetchingDataComplete)}),null)}function Ji(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,Hi)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,ji)),e.tb(4,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.videoData&&t.isNotEmbed),l(n,4,0,!t.isNotEmbed)}),null)}class Vi{constructor(l,n,t,e,i,a){this.activatedRoute=l,this.valueSvc=n,this.viewerSvc=t,this.contentSvc=e,this.platform=i,this.accessControlSvc=a,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isScreenSizeSmall=!1,this.videoData=null,this.isFetchingDataComplete=!1,this.isNotEmbed=!0,this.widgetResolverVideoData=null,this.discussionForumWidget=null}ngOnInit(){this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(l=>{this.isScreenSizeSmall=l}),this.isNotEmbed="true"!==this.activatedRoute.snapshot.queryParamMap.get("embed"),this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(l=>{this.videoData=l,this.videoData&&this.formDiscussionForumWidget(this.videoData),this.widgetResolverVideoData=this.initWidgetResolverVideoData(this.videoData);let n="";if(n=this.videoData.artifactUrl.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(this.videoData.artifactUrl).pathname:"/apis/authContent/"+encodeURIComponent(this.videoData.artifactUrl),this.widgetResolverVideoData.widgetData.url=this.videoData?n:"",this.widgetResolverVideoData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0,this.videoData.subTitles){let l="";this.videoData.subTitles.length>0&&this.videoData.subTitles[0]&&(l=this.videoData.subTitles[0].url.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(this.videoData.subTitles[0].url).pathname:"/apis/authContent/"+encodeURIComponent(this.videoData.subTitles[0].url)),this.widgetResolverVideoData.widgetData.subtitles=[{srclang:"",label:"",url:l}]}}):this.routeDataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){if(this.widgetResolverVideoData=null,this.videoData=l.content.data,this.videoData&&this.formDiscussionForumWidget(this.videoData),this.widgetResolverVideoData=this.initWidgetResolverVideoData(this.videoData),this.videoData&&this.videoData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.videoData.identifier):yield this.fetchContinueLearning(this.videoData.identifier,this.videoData.identifier)),this.widgetResolverVideoData.widgetData.url=this.videoData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.videoData.artifactUrl):this.videoData.artifactUrl:"",this.widgetResolverVideoData.widgetData.resumePoint=this.getResumePoint(this.videoData),this.widgetResolverVideoData.widgetData.identifier=this.videoData?this.videoData.identifier:"",this.widgetResolverVideoData.widgetData.mimeType=l.content.data.mimeType,l.content.data.subTitles[0]){let n="";n=l.content.data.subTitles[0].url.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(l.content.data.subTitles[0].url).pathname:"/apis/authContent/"+encodeURIComponent(l.content.data.subTitles[0].url),this.widgetResolverVideoData.widgetData.subtitles=[{srclang:"",label:"",url:n}]}this.widgetResolverVideoData=JSON.parse(JSON.stringify(this.widgetResolverVideoData)),this.videoData&&this.videoData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.videoData.identifier)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}getResumePoint(l){return l&&l.progress&&l.progress.progressSupported&&l.progress.progress&&Math.floor(l.duration*l.progress.progress)||0}initWidgetResolverVideoData(l){let n=!1;return n=!!this.platform.IOS||!(this.platform.WEBKIT||this.platform.IOS||this.platform.SAFARI)||!!this.platform.ANDROID,{widgetType:"player",widgetSubType:"playerVideo",widgetData:{isVideojs:n,disableTelemetry:!1,url:"",identifier:"",mimeType:l.mimeType,resumePoint:0,continueLearning:!0,subtitles:[]},widgetHostClass:"video-full"}}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}fetchContinueLearning(l,n){return V.__awaiter(this,void 0,void 0,(function*(){return new Promise(t=>{this.contentSvc.fetchContentHistory(l).subscribe(l=>{l&&l.identifier===n&&l.continueData&&l.continueData.progress&&this.widgetResolverVideoData&&(this.widgetResolverVideoData.widgetData.resumePoint=Number(l.continueData.progress)),t(!0)},()=>t(!0))})}))}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}}var Bi=e.sb({encapsulation:0,styles:[[""]],data:{}});function Yi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-video-container",[],null,null,null,Ji,Fi)),e.tb(1,114688,null,0,Ni,[L.a,ll.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isNotEmbed:[1,"isNotEmbed"],isFetchingDataComplete:[2,"isFetchingDataComplete"],forPreview:[3,"forPreview"],videoData:[4,"videoData"],widgetResolverVideoData:[5,"widgetResolverVideoData"],discussionForumWidget:[6,"discussionForumWidget"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isScreenSizeSmall,t.isNotEmbed,t.isFetchingDataComplete,t.forPreview,t.videoData,t.widgetResolverVideoData,t.discussionForumWidget)}),null)}function Xi(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-video",[],null,null,null,Yi,Bi)),e.tb(1,245760,null,0,Vi,[L.a,nl.a,wn.a,Pn.a,j.a,Xt.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Zi=e.qb("viewer-video",Vi,Xi,{},{},[]);class la{constructor(l,n){this.activatedRoute=l,this.configSvc=n,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.forPreview=!1,this.youtubeData=null,this.widgetResolverYoutubeData=null,this.discussionForumWidget=null,this.isScreenSizeLtMedium=!1,this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.openDiscuuss=!1}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType}}var na=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:40vh 8px 8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}.video-player[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.video-player[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}.video-player-mobile[_ngcontent-%COMP%]{padding:0}.info-section[_ngcontent-%COMP%]{width:100%}}.vidoe-title[_ngcontent-%COMP%]{width:100%}.video-discussion-forum-in[_ngcontent-%COMP%]{display:block;overflow:hidden}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.video-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}"]],data:{}});function ta(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.widgetResolverYoutubeData)}),null)}function ea(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,19,null,null,null,null,null,null,null)),(l()(),e.ub(1,0,null,null,18,"div",[["class","flex justify-end mt-3"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(3,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(4,7),e.Kb(5,2),(l()(),e.ub(6,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(7,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(8,1),e.Kb(9,2),(l()(),e.ub(10,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(11,4308992,null,0,wl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(12,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(13,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(14,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(15,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(16,0,null,null,3,"ws-widget-btn-content-feedback-v2",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,Mt.b,Mt.a)),e.tb(17,4308992,null,0,xt.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(18,2),e.Kb(19,2)],(function(l,n){var t=n.component,i=e.Pb(n,3,0,l(n,5,0,e.Gb(n.parent.parent,0),t.youtubeData,l(n,4,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,3,0,i,t.forPreview);var a=e.Pb(n,7,0,l(n,9,0,e.Gb(n.parent.parent,0),t.youtubeData,l(n,8,0,"identifier")));l(n,7,0,a,t.forPreview),l(n,11,0,t.forPreview),l(n,13,0,t.forPreview),l(n,15,0,t.forPreview);var u=e.Pb(n,17,0,l(n,19,0,e.Gb(n.parent.parent,0),t.youtubeData,l(n,18,0,"identifier","name")));l(n,17,0,u,t.forPreview)}),(function(l,n){l(n,2,0,e.Gb(n,3).id,e.Gb(n,3).widgetSafeStyle,e.Gb(n,3).className),l(n,6,0,e.Gb(n,7).id,e.Gb(n,7).widgetSafeStyle,e.Gb(n,7).className),l(n,10,0,e.Gb(n,11).id,e.Gb(n,11).widgetSafeStyle,e.Gb(n,11).className),l(n,12,0,e.Gb(n,13).id,e.Gb(n,13).widgetSafeStyle,e.Gb(n,13).className),l(n,14,0,e.Gb(n,15).id,e.Gb(n,15).widgetSafeStyle,e.Gb(n,15).className),l(n,16,0,e.Gb(n,17).id,e.Gb(n,17).widgetSafeStyle,e.Gb(n,17).className)}))}function ia(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,18,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(1,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(2,0,null,0,16,"div",[["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,h.c,h.b)),e.tb(4,4308992,null,0,Ct.a,[j.a,fl.a,Gt.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(l()(),e.ub(7,0,null,null,3,"ws-widget-btn-content-like",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,m.c,m.b)),e.tb(8,4440064,null,0,gl.a,[fl.a,vl.a,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(9,1),e.Kb(10,2),(l()(),e.ub(11,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(12,4308992,null,0,wl.a,[yl.e,ll.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),(l()(),e.ub(13,0,null,null,1,"ws-widget-btn-goals",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,v.c,v.b)),e.tb(14,4308992,null,0,Pl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(15,0,null,null,1,"ws-widget-btn-playlist",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,P.c,P.b)),e.tb(16,4308992,null,0,Sl.a,[yl.e,Dl.a,ll.a],{forPreview:[0,"forPreview"]},null),(l()(),e.ub(17,0,null,null,1,"ws-widget-btn-content-feedback",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,D.c,D.b)),e.tb(18,4308992,null,0,Cl.a,[yl.e,ll.a],{forPreview:[0,"forPreview"]},null)],(function(l,n){var t=n.component,i=e.Pb(n,4,0,l(n,6,0,e.Gb(n.parent.parent.parent,0),t.youtubeData,l(n,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));l(n,4,0,i,t.forPreview);var a=e.Pb(n,8,0,l(n,10,0,e.Gb(n.parent.parent.parent,0),t.youtubeData,l(n,9,0,"identifier")));l(n,8,0,a,t.forPreview),l(n,12,0,t.youtubeData,t.forPreview),l(n,14,0,t.forPreview),l(n,16,0,t.forPreview),l(n,18,0,t.forPreview)}),(function(l,n){l(n,0,0,"NoopAnimations"===e.Gb(n,1)._animationMode),l(n,3,0,e.Gb(n,4).id,e.Gb(n,4).widgetSafeStyle,e.Gb(n,4).className),l(n,7,0,e.Gb(n,8).id,e.Gb(n,8).widgetSafeStyle,e.Gb(n,8).className),l(n,11,0,e.Gb(n,12).id,e.Gb(n,12).widgetSafeStyle,e.Gb(n,12).className),l(n,13,0,e.Gb(n,14).id,e.Gb(n,14).widgetSafeStyle,e.Gb(n,14).className),l(n,15,0,e.Gb(n,16).id,e.Gb(n,16).widgetSafeStyle,e.Gb(n,16).className),l(n,17,0,e.Gb(n,18).id,e.Gb(n,18).widgetSafeStyle,e.Gb(n,18).className)}))}function aa(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,ia)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.isScreenSizeSmall)}),null)}function ua(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_right"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function oa(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mt-1 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,K.b,K.a)),e.tb(1,9158656,null,0,q.b,[e.k,q.d,[8,null],[2,q.a]],null,null),(l()(),e.Ob(-1,0,["arrow_drop_down"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,e.Gb(n,1).inline,"primary"!==e.Gb(n,1).color&&"accent"!==e.Gb(n,1).color&&"warn"!==e.Gb(n,1).color)}))}function ra(l){return e.Qb(0,[(l()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,Rl.a,[e.P,Nl.a,Fl.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.component.discussionForumWidget)}),null)}function sa(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,10,"div",[["class","video-discussion-forum-in display-block padding-m"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,9,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,6,"div",[["aria-label","open discussion form"],["class","flex"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,1,"a",[["aria-label","open discussion form"],["class","mat-toolbar discussion-head"],["href","javascript:void(0)"],["role","link"]],null,[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=0!=(i.openDiscuuss=!i.openDiscuuss)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Discussion Forum "])),(l()(),e.kb(16777216,null,null,1,null,ua)),e.tb(6,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,oa)),e.tb(8,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,ra)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.openDiscuuss),l(n,8,0,t.openDiscuuss),l(n,10,0,t.openDiscuuss)}),null)}function ca(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,16,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,13,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,12,"div",[["class","w-full"]],null,null,null,null,null)),(l()(),e.ub(3,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),e.ub(4,0,null,null,8,"mat-card",[["class","video-player-mobile mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Gl.d,Gl.a)),e.tb(5,49152,null,0,Ml.a,[[2,A.a]],null,null),(l()(),e.ub(6,0,null,0,6,"mat-card-content",[["class","video-player-mobile-container mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Ml.d,[],null,null),(l()(),e.ub(8,0,null,null,2,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,ta)),e.tb(10,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,ea)),e.tb(12,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,aa)),e.tb(14,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,sa)),e.tb(16,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,10,0,t.isFetchingDataComplete),l(n,12,0,!t.isScreenSizeSmall),l(n,14,0,t.youtubeData),l(n,16,0,t.discussionForumWidget&&t.isRestricted)}),(function(l,n){l(n,4,0,"NoopAnimations"===e.Gb(n,5)._animationMode)}))}function da(l){return e.Qb(0,[e.Ib(0,kt.a,[]),(l()(),e.kb(16777216,null,null,1,null,ca)),e.tb(2,16384,null,0,z.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.youtubeData)}),null)}class ba{constructor(l,n,t,e){this.activatedRoute=l,this.valueSvc=n,this.contentSvc=t,this.platform=e,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.youtubeData=null,this.widgetResolverYoutubeData=null,this.discussionForumWidget=null,this.isScreenSizeLtMedium=!1}ngOnInit(){this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(l=>{this.isScreenSizeSmall=l}),this.routeDataSubscription=this.activatedRoute.data.subscribe(l=>V.__awaiter(this,void 0,void 0,(function*(){this.widgetResolverYoutubeData=null,this.youtubeData=l.content.data,this.youtubeData&&this.formDiscussionForumWidget(this.youtubeData),this.widgetResolverYoutubeData=this.initWidgetResolverYoutubeData(),this.forPreview&&(this.widgetResolverYoutubeData.widgetData.disableTelemetry=!0),this.widgetResolverYoutubeData.widgetData.url=this.youtubeData?this.youtubeData.artifactUrl:"",this.widgetResolverYoutubeData.widgetData.identifier=this.youtubeData?this.youtubeData.identifier:"",this.widgetResolverYoutubeData.widgetData.isVideojs=!this.platform.ANDROID,this.youtubeData&&this.youtubeData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.youtubeData.identifier)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}initWidgetResolverYoutubeData(){return{widgetType:"player",widgetSubType:"playerYoutube",widgetData:{disableTelemetry:!1,url:"",identifier:""},widgetHostClass:"video-full"}}formDiscussionForumWidget(l){this.discussionForumWidget={widgetData:{description:l.description,id:l.identifier,name:gn.i.EDiscussionType.LEARNING,title:l.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(l){return V.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(l).toPromise().catch(()=>{})}))}}var ha=e.sb({encapsulation:0,styles:[[""]],data:{}});function ma(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-youtube-container",[],null,null,null,da,na)),e.tb(1,114688,null,0,la,[L.a,ll.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isFetchingDataComplete:[1,"isFetchingDataComplete"],forPreview:[2,"forPreview"],youtubeData:[3,"youtubeData"],widgetResolverYoutubeData:[4,"widgetResolverYoutubeData"],discussionForumWidget:[5,"discussionForumWidget"]},null)],(function(l,n){var t=n.component;l(n,1,0,t.isScreenSizeSmall,t.isFetchingDataComplete,t.forPreview,t.youtubeData,t.widgetResolverYoutubeData,t.discussionForumWidget)}),null)}function pa(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"viewer-youtube",[],null,null,null,ma,ha)),e.tb(1,245760,null,0,ba,[L.a,nl.a,Pn.a,j.a],null,null)],(function(l,n){l(n,1,0)}),null)}var ga=e.qb("viewer-youtube",ba,pa,{},{},[]),fa=t("M7hb"),va=t("POq0"),wa=t("Xd0L"),ya=t("/Co4"),Pa=t("gavF"),Sa=t("3wtj"),Da=t("oPrN"),Ca=t("ZGdF"),Ga=t("7QIX"),Ma=t("zMNK"),xa=t("KDYE"),Ia=t("kxhK"),Oa=t("nUuF"),ka=t("Bheh"),_a=t("wBFC"),Ta=t("KPQW"),Ea=t("1XhF"),Ra=t("HsOI"),Na=t("oapL"),Fa=t("ZwOa"),La=t("kNGD"),Ua=t("Nra3"),Qa=t("N8BH"),Wa=t("f1R+"),Aa=t("3XeQ"),za=t("1+c4"),Ka=t("aDOb"),qa=t("GilE"),Ha=t("CpoC"),$a=t("GSMj"),ja=t("6GCF"),Ja=t("oYwi"),Va=t("FPi+"),Ba=t("alHs"),Ya=t("W6PK"),Xa=t("wgME"),Za=t("7Y9B"),lu=t("v2bU"),nu=t("PggI"),tu=t("gBMt");class eu{}class iu{}class au{}var uu=t("DU99"),ou=t("MDml");class ru{}class su{}class cu{}var du=t("FZKd");class bu{}class hu{}class mu{}class pu{}class gu{}class fu{}class vu{}class wu{}var yu=t("CQWV"),Pu=t("PEK/"),Su=t("Zeoz"),Du=t("mSbd");class Cu{}const Gu={resourceType:"audio"},Mu={resourceType:"audio-native"},xu={resourceType:"certification"},Iu=()=>t.e(84).then(t.bind(null,"rR5G")).then(l=>l.CertificationModuleNgFactory),Ou={resourceType:"class-diagram"},ku=()=>Promise.all([t.e(4),t.e(10),t.e(26),t.e(85)]).then(t.bind(null,"T+yM")).then(l=>l.ClassDiagramModuleNgFactory),_u={resourceType:"dnd-quiz"},Tu=()=>t.e(86).then(t.bind(null,"VWn5")).then(l=>l.DndQuizModuleNgFactory),Eu={resourceType:"hands-on"},Ru=()=>Promise.all([t.e(6),t.e(22),t.e(0),t.e(43)]).then(t.bind(null,"pYlI")).then(l=>l.HandsOnModuleNgFactory),Nu={resourceType:"html"},Fu={resourceType:"html-picker"},Lu=()=>Promise.all([t.e(6),t.e(22),t.e(46)]).then(t.bind(null,"cMYX")).then(l=>l.HtmlPickerModuleNgFactory),Uu={resourceType:"channel"},Qu={resourceType:"iap"},Wu=()=>t.e(87).then(t.bind(null,"CgpK")).then(l=>l.IapModuleNgFactory),Au={resourceType:"interactive-exercise"},zu=()=>t.e(88).then(t.bind(null,"dEQ6")).then(l=>l.InteractiveExerciseModuleNgFactory),Ku={resourceType:"pdf"},qu={resourceType:"quiz"},Hu=()=>Promise.all([t.e(4),t.e(26),t.e(55)]).then(t.bind(null,"gB8d")).then(l=>l.QuizModuleNgFactory),$u={resourceType:"rdbms-hands-on"},ju=()=>Promise.all([t.e(4),t.e(6),t.e(0),t.e(57)]).then(t.bind(null,"MKXj")).then(l=>l.RdbmsHandsOnModuleNgFactory),Ju={resourceType:"resource-collection"},Vu=()=>Promise.all([t.e(4),t.e(9),t.e(25),t.e(58)]).then(t.bind(null,"DG7x")).then(l=>l.ResourceCollectionModuleNgFactory),Bu={resourceType:"video"},Yu={resourceType:"web-module"},Xu=()=>Promise.all([t.e(25),t.e(89)]).then(t.bind(null,"2Xq3")).then(l=>l.WebModuleModuleNgFactory),Zu={resourceType:"youtube"},lo={resourceType:"unknown"},no={resourceType:"error"};class to{}var eo=t("We06"),io=t("aHCO"),ao=t("Ig13");class uo{constructor(){this.isXSmall=!1}}class oo{}var ro=t("dvZr");t.d(n,"RouteViewerModuleNgFactory",(function(){return so}));var so=e.rb(i,[],(function(l){return e.Db([e.Eb(512,e.j,e.bb,[[8,[a.a,a.b,u.a,o.a,r.a,s.a,c.a,d.a,b.a,h.a,m.a,p.a,g.a,f.a,v.a,w.a,y.a,P.a,S.a,D.a,C.a,G.a,M.a,x.a,I.a,O.a,k.a,_.a,T.a,E.a,Dt,te,Se,di,yi,Ri,Zi,ga,fa.a,R.a]],[3,e.j],e.w]),e.Eb(4608,z.r,z.q,[e.t,[2,z.N]]),e.Eb(4608,va.c,va.c,[]),e.Eb(4608,Z.e,wa.c,[[2,wa.g],[2,wa.l]]),e.Eb(135680,W.h,W.h,[e.y,j.a]),e.Eb(4608,Ql.f,Ql.f,[e.M]),e.Eb(4608,Ce.d,Ce.d,[Ce.j,Ce.f,e.j,Ce.i,Ce.g,e.q,e.y,z.d,El.b,[2,z.k]]),e.Eb(5120,Ce.k,Ce.l,[Ce.d]),e.Eb(5120,De.b,De.c,[Ce.d]),e.Eb(4608,wa.b,wa.b,[]),e.Eb(5120,yl.c,yl.d,[Ce.d]),e.Eb(135680,yl.e,yl.e,[Ce.d,e.q,[2,z.k],[2,yl.b],yl.c,[3,yl.e],Ce.f]),e.Eb(4608,_l.D,_l.D,[]),e.Eb(4608,_l.f,_l.f,[]),e.Eb(5120,ya.b,ya.c,[Ce.d]),e.Eb(5120,Pa.c,Pa.k,[Ce.d]),e.Eb(4608,Sa.a,Sa.a,[Oe.c,ll.a]),e.Eb(4608,mn.a,mn.a,[]),e.Eb(4608,Xt.a,Xt.a,[ll.a,z.a]),e.Eb(4608,Da.a,Da.a,[Pn.a,Y.a,Gt.a,L.o,Xt.a,Ca.a,ll.a,j.a]),e.Eb(4608,nl.a,nl.a,[Ga.a]),e.Eb(1073742336,z.c,z.c,[]),e.Eb(1073742336,El.a,El.a,[]),e.Eb(1073742336,wa.l,wa.l,[[2,wa.d],[2,Z.f]]),e.Eb(1073742336,Ml.h,Ml.h,[]),e.Eb(1073742336,j.b,j.b,[]),e.Eb(1073742336,it.c,it.c,[]),e.Eb(1073742336,et.h,et.h,[]),e.Eb(1073742336,$.b,$.b,[]),e.Eb(1073742336,q.c,q.c,[]),e.Eb(1073742336,wa.w,wa.w,[]),e.Eb(1073742336,Q.c,Q.c,[]),e.Eb(1073742336,Ol.b,Ol.b,[]),e.Eb(1073742336,Tl.d,Tl.d,[]),e.Eb(1073742336,va.d,va.d,[]),e.Eb(1073742336,Tl.c,Tl.c,[]),e.Eb(1073742336,wa.n,wa.n,[]),e.Eb(1073742336,wa.u,wa.u,[]),e.Eb(1073742336,Ul.e,Ul.e,[]),e.Eb(1073742336,Ql.d,Ql.d,[]),e.Eb(1073742336,Wl.e,Wl.e,[]),e.Eb(1073742336,hn.c,hn.c,[]),e.Eb(1073742336,Ma.g,Ma.g,[]),e.Eb(1073742336,Ce.h,Ce.h,[]),e.Eb(1073742336,Te.f,Te.f,[]),e.Eb(1073742336,L.s,L.s,[[2,L.x],[2,L.o]]),e.Eb(1073742336,xa.a,xa.a,[]),e.Eb(1073742336,Ia.a,Ia.a,[]),e.Eb(1073742336,Oa.a,Oa.a,[]),e.Eb(1073742336,ka.a,ka.a,[]),e.Eb(1073742336,W.a,W.a,[]),e.Eb(1073742336,De.e,De.e,[]),e.Eb(1073742336,_a.a,_a.a,[]),e.Eb(1073742336,Ta.b,Ta.b,[]),e.Eb(1073742336,Ea.a,Ea.a,[]),e.Eb(1073742336,Ra.e,Ra.e,[]),e.Eb(1073742336,Na.c,Na.c,[]),e.Eb(1073742336,Fa.c,Fa.c,[]),e.Eb(1073742336,La.f,La.f,[]),e.Eb(1073742336,yl.k,yl.k,[]),e.Eb(1073742336,_l.C,_l.C,[]),e.Eb(1073742336,_l.m,_l.m,[]),e.Eb(1073742336,_l.z,_l.z,[]),e.Eb(1073742336,wa.r,wa.r,[]),e.Eb(1073742336,ya.e,ya.e,[]),e.Eb(1073742336,Ua.a,Ua.a,[]),e.Eb(1073742336,Qa.a,Qa.a,[]),e.Eb(1073742336,Wa.a,Wa.a,[]),e.Eb(1073742336,Aa.a,Aa.a,[]),e.Eb(1073742336,za.a,za.a,[]),e.Eb(1073742336,Ka.a,Ka.a,[]),e.Eb(1073742336,Pa.j,Pa.j,[]),e.Eb(1073742336,Pa.g,Pa.g,[]),e.Eb(1073742336,qa.a,qa.a,[]),e.Eb(1073742336,Ha.a,Ha.a,[]),e.Eb(1073742336,$a.a,$a.a,[]),e.Eb(1073742336,ja.a,ja.a,[]),e.Eb(1073742336,Ja.a,Ja.a,[]),e.Eb(1073742336,Va.a,Va.a,[]),e.Eb(1073742336,Ba.c,Ba.c,[]),e.Eb(1073742336,Ya.a,Ya.a,[]),e.Eb(1073742336,Xa.a,Xa.a,[]),e.Eb(1073742336,Za.a,Za.a,[]),e.Eb(1073742336,lu.a,lu.a,[]),e.Eb(1073742336,nu.a,nu.a,[]),e.Eb(1073742336,tu.a,tu.a,[]),e.Eb(1073742336,eu,eu,[]),e.Eb(1073742336,iu,iu,[]),e.Eb(1073742336,au,au,[]),e.Eb(1073742336,uu.a,uu.a,[]),e.Eb(1073742336,ou.a,ou.a,[]),e.Eb(1073742336,ru,ru,[]),e.Eb(1073742336,su,su,[]),e.Eb(1073742336,Me.c,Me.c,[]),e.Eb(1073742336,cu,cu,[]),e.Eb(1073742336,du.a,du.a,[]),e.Eb(1073742336,bu,bu,[]),e.Eb(1073742336,hu,hu,[]),e.Eb(1073742336,mu,mu,[]),e.Eb(1073742336,pu,pu,[]),e.Eb(1073742336,gu,gu,[]),e.Eb(1073742336,fu,fu,[]),e.Eb(1073742336,vu,vu,[]),e.Eb(1073742336,wu,wu,[]),e.Eb(1073742336,yu.a,yu.a,[]),e.Eb(1073742336,Pu.a,Pu.a,[]),e.Eb(1073742336,Su.a,Su.a,[]),e.Eb(1073742336,Du.a,Du.a,[]),e.Eb(1073742336,Cu,Cu,[]),e.Eb(1073742336,to,to,[]),e.Eb(1073742336,eo.a,eo.a,[]),e.Eb(1073742336,io.a,io.a,[]),e.Eb(1073742336,pl.m,pl.m,[]),e.Eb(1073742336,ao.a,ao.a,[]),e.Eb(1073742336,uo,uo,[]),e.Eb(1073742336,oo,oo,[]),e.Eb(1073742336,i,i,[]),e.Eb(256,e.t,"en",[]),e.Eb(256,La.a,{separatorKeyCodes:[ro.g]},[]),e.Eb(256,Ba.a,{formats:["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block"],modules:{toolbar:[["blockquote","code-block"],["bold","italic","underline","link"]],history:{delay:1500,userOnly:!0},syntax:!1},theme:"bubble"},[]),e.Eb(1024,L.m,(function(){return[[{path:"",component:st,children:[{path:"audio/:resourceId",component:Yt,data:Gu,resolve:{content:Da.a}},{path:"audio-native/:resourceId",component:ve,data:Mu,resolve:{content:Da.a}},{path:"certification",data:xu,loadChildren:Iu},{path:"class-diagram",data:Ou,loadChildren:ku},{path:"dnd-quiz",data:_u,loadChildren:Tu},{path:"hands-on",data:Eu,loadChildren:Ru},{path:"html/:resourceId",component:ui,data:Nu,resolve:{content:Da.a}},{path:"html-picker",data:Fu,loadChildren:Lu},{path:"channel/:resourceId",data:Uu,resolve:{content:Da.a},component:mi},{path:"iap",data:Qu,loadChildren:Wu},{path:"interactive-exercise",data:Au,loadChildren:zu},{path:"pdf/:resourceId",component:ki,data:Ku,resolve:{content:Da.a}},{path:"quiz",data:qu,loadChildren:Hu},{path:"rdbms-hands-on",data:$u,loadChildren:ju},{path:"resource-collection",data:Ju,loadChildren:Vu},{path:"video/:resourceId",component:Vi,data:Bu,resolve:{content:Da.a}},{path:"web-module",data:Yu,loadChildren:Xu},{path:"youtube/:resourceId",component:ba,data:Zu,resolve:{content:Da.a}},{path:":resourceId",component:st,data:lo,resolve:{content:Da.a}},{path:"**",data:no,resolve:{content:Da.a}}]}]]}),[])])}))},GYRC:function(l,n,t){"use strict";t.d(n,"a",(function(){return u}));var e=t("XNiG"),i=t("jtHE"),a=t("8Y7J");let u=(()=>{class l{constructor(){this.resourceId=null,this.resource=null,this.status="none",this.resourceChangedSubject=new e.a,this.changedSubject=new i.a(1),this.tocChangeSubject=new i.a(1),this.navSupportForResource=new i.a(1)}reset(l=null,n="none"){this.resourceId=l,this.resource=null,this.error=null,this.status=n,this.changedSubject.next()}updateResource(l=null,n=null){l?(this.resource=l,l&&l.identifier&&(this.resourceId=l.identifier),this.error=null,this.status="done"):(this.resource=null,this.error=n,this.status="error"),this.changedSubject.next()}updateNextPrevResource(l=!0,n=null,t=null){this.tocChangeSubject.next({tocAvailable:l,nextResource:t,prevResource:n})}}return l.ngInjectableDef=a.Ub({factory:function(){return new l},token:l,providedIn:"root"}),l})()},oPrN:function(l,n,t){"use strict";t.d(n,"a",(function(){return s}));var e=t("vkgz"),i=t("lJxs"),a=t("JIr8"),u=t("LRne"),o=(t("aLkD"),t("iJLM"));t("g6cB"),t("GYRC"),t("tHRR");const r=["creatorContacts","source","exclusiveContent"];class s{constructor(l,n,t,e,i,a,u,o){this.contentSvc=l,this.viewerDataSvc=n,this.mobileAppsSvc=t,this.router=e,this.accessControlSvc=i,this.msAuthSvc=a,this.configSvc=u,this.platform=o}resolve(l){const n=l.data.resourceType;if(this.viewerDataSvc.reset(l.paramMap.get("resourceId")),!this.viewerDataSvc.resourceId)return null;if("true"===l.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign&&"quiz"!==n)return null;const t=window.location.href.includes("/author/")||"true"===l.queryParamMap.get("preview");return(t?this.contentSvc.fetchAuthoringContent(this.viewerDataSvc.resourceId):this.contentSvc.fetchContent(this.viewerDataSvc.resourceId,"detail",r)).pipe(Object(e.a)(l=>{"Deleted"!==l.status&&"Expired"!==l.status||this.router.navigate([`${t?"/author":"/app"}/toc/${l.identifier}/overview`]),l.ssoEnabled&&this.msAuthSvc.loginForSSOEnabledEmbed(this.configSvc.userProfile&&this.configSvc.userProfile.email||""),"unknown"===n?this.router.navigate([`${t?"/author":""}/viewer/${Object(o.n)(l.mimeType)}/${l.identifier}`]):n===Object(o.n)(l.mimeType)?this.viewerDataSvc.updateResource(l,null):this.viewerDataSvc.updateResource(null,{errorType:"mimeTypeMismatch",mimeType:l.mimeType,probableUrl:`${t?"/author":""}/viewer/${Object(o.n)(l.mimeType)}/${l.identifier}`})}),Object(i.a)(l=>{if("unknown"===n)this.router.navigate([`${t?"/author":""}/viewer/${Object(o.n)(l.mimeType)}/${l.identifier}`]);else if(n===Object(o.n)(l.mimeType))return l.platform=this.platform,this.mobileAppsSvc.sendViewerData(l),{data:l,error:null};return{data:null,error:"mimeTypeMismatch"}}),Object(a.a)(l=>(this.viewerDataSvc.updateResource(null,l),Object(u.a)({error:l,data:null}))))}}}}]);